import os
import requests
import json
from datetime import date
import datetime as datetime21
from pathlib import Path
import pandas as pd
proxies = { 'http' : 'http://ProXy:Rahas!@2020@139.59.105.3:53128'}
# df = pd.read_csv(r'/home/crawler/otc/agoda/agoda_hotel.csv')
# df = pd.read_csv(r'E:\/agoda_hotel.csv', header=None,  index_col = False)

df = pd.read_csv('/home/crawler/otc/agoda/Travel_destinations_in_Malaysia.csv')
# df = pd.read_csv(r'E:\/Travel_destinations_in_Malaysia.csv')
# print(df)

today = date.today()
crawl_date = today.strftime("%Y%m%d")


a=0
total_data_all=0
z=0
for region in df.values:
    a=a+1
    total_data = 0
    # if a>40:
    #     break
    #
    # if a <= 37 :
    #     continue
    page = 0
    region_name = region[0]
    region_id = region[1]

    if not region_name=="Puchong":
        continue



    Path("/dataph/one_time_crawling/agoda2/" + crawl_date + "/" + region_name + "/").mkdir(parents=True, exist_ok=True)
    print("ulangggggggggg")
    while True:
        page=page+1

        headers = {
            'authority': 'www.agoda.com',
            'ag-page-type-id': '103',
            'ag-debug-override-origin': 'ID',
            'ag-request-id': '06a78ce8-07e8-45de-95f4-7040d9e73f4c',
            'sec-ch-ua-mobile': '?0',
            'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.110 Safari/537.36',
            'access-control-max-age': '7200',
            'ag-retry-attempt': '0',
            'content-type': 'application/json',
            'accept': '*/*',
            'ag-language-locale': 'en-us',
            'ag-request-attempt': '1',
            'sec-ch-ua': '" Not A;Brand";v="99", "Chromium";v="96", "Google Chrome";v="96"',
            'sec-ch-ua-platform': '"Windows"',
            'origin': 'https://www.agoda.com',
            'sec-fetch-site': 'same-origin',
            'sec-fetch-mode': 'cors',
            'sec-fetch-dest': 'empty',
            'referer': 'https://www.agoda.com/search?area=95066&locale=en-us&ckuid=9d229ec9-a7b9-41fd-86dd-415e6797a3ca&prid=0&currency=IDR&correlationId=0883a970-513b-4cf8-bf96-549c1701b269&pageTypeId=103&realLanguageId=1&languageId=1&origin=ID&cid=1844104&userId=9d229ec9-a7b9-41fd-86dd-415e6797a3ca&whitelabelid=1&loginLvl=0&storefrontId=3&currencyId=25&currencyCode=IDR&htmlLanguage=en-us&cultureInfoName=en-us&machineName=sg-crweb-6017&trafficGroupId=1&sessionId=2ijhhsrunj0c1tod3upq3zj4&trafficSubGroupId=84&aid=130589&useFullPageLogin=true&cttp=4&isRealUser=true&mode=production&checkIn=2021-12-22&checkOut=2021-12-23&rooms=1&adults=2&children=0&priceCur=IDR&los=1&textToSearch=Keningau&productType=-1&travellerType=1&familyMode=off',
            'accept-language': 'en-US,en;q=0.9,id;q=0.8',
        }

        # data = '{"operationName":"citySearch","variables":{"CitySearchRequest":{"cityId":%s,"searchRequest":{"searchCriteria":{"isAllowBookOnRequest":true,"bookingDate":"2021-12-20T02:30:39.252Z","checkInDate":"2021-12-21T17:00:00.000Z","localCheckInDate":"2021-12-22","los":1,"rooms":1,"adults":2,"children":0,"childAges":[],"ratePlans":[],"featureFlagRequest":{"fetchNamesForTealium":true,"fiveStarDealOfTheDay":true,"isAllowBookOnRequest":false,"showUnAvailable":true,"showRemainingProperties":true,"isMultiHotelSearch":false,"enableAgencySupplyForPackages":true,"flags":[{"feature":"FamilyChildFriendlyPopularFilter","enable":true},{"feature":"FamilyChildFriendlyPropertyTypeFilter","enable":true},{"feature":"FamilyMode","enable":false}],"enablePriceBreaker":false,"enablePageToken":false},"isUserLoggedIn":false,"currency":"IDR","travellerType":"Couple","isAPSPeek":false,"enableOpaqueChannel":false,"isEnabledPartnerChannelSelection":null,"sorting":{"sortField":"Ranking","sortOrder":"Desc","sortParams":null},"requiredBasis":"PRPN","requiredPrice":"Exclusive","suggestionLimit":0,"synchronous":false,"supplierPullMetadataRequest":null,"isRoomSuggestionRequested":false,"isAPORequest":false,"hasAPOFilter":false},"searchContext":{"userId":"9d229ec9-a7b9-41fd-86dd-415e6797a3ca","memberId":0,"locale":"en-us","cid":1844104,"origin":"ID","platform":1,"deviceTypeId":1,"experiments":{"forceByVariant":null,"forceByExperiment":[{"id":"FAM-366","variant":"B"},{"id":"DRAGON-2308","variant":"B"},{"id":"MIN-13903-2","variant":"B"},{"id":"MIN-14036","variant":"B"},{"id":"UMRAH-B2B","variant":"B"},{"id":"UMRAH-B2C-REGIONAL","variant":"B"},{"id":"UMRAH-B2C","variant":"Z"},{"id":"JGCW-202","variant":"B"},{"id":"JGCW-204","variant":"B"},{"id":"JGCW-264","variant":"B"},{"id":"JGCW-299","variant":"B"},{"id":"JGCW-159","variant":"B"},{"id":"FD-3936","variant":"B"}]},"isRetry":false,"showCMS":false,"storeFrontId":3,"pageTypeId":103,"whiteLabelKey":null,"ipAddress":"110.137.195.241","endpointSearchType":"CitySearch","trackSteps":null},"matrix":null,"matrixGroup":[{"matrixGroup":"NumberOfBedrooms","size":100},{"matrixGroup":"LandmarkIds","size":10},{"matrixGroup":"AllGuestReviewBreakdown","size":100},{"matrixGroup":"BusStationLandmarkIds","size":20},{"matrixGroup":"GroupedBedTypes","size":100},{"matrixGroup":"RoomBenefits","size":100},{"matrixGroup":"AtmosphereIds","size":100},{"matrixGroup":"RoomAmenities","size":100},{"matrixGroup":"AffordableCategory","size":100},{"matrixGroup":"HotelFacilities","size":100},{"matrixGroup":"BeachAccessTypeIds","size":100},{"matrixGroup":"StarRating","size":20},{"matrixGroup":"MetroSubwayStationLandmarkIds","size":20},{"matrixGroup":"CityCenterDistance","size":100},{"matrixGroup":"ProductType","size":100},{"matrixGroup":"ReviewLocationScore","size":3},{"matrixGroup":"LandmarkSubTypeCategoryIds","size":20},{"matrixGroup":"ReviewScore","size":100},{"matrixGroup":"IsStaycation","size":5},{"matrixGroup":"AccommodationType","size":100},{"matrixGroup":"PaymentOptions","size":100},{"matrixGroup":"TrainStationLandmarkIds","size":20},{"matrixGroup":"HotelAreaId","size":100},{"matrixGroup":"HotelChainId","size":10},{"matrixGroup":"RecommendedByDestinationCity","size":10},{"matrixGroup":"Deals","size":100}],"filterRequest":{"idsFilters":[],"rangeFilters":[],"textFilters":[]},"page":{"pageSize":45,"pageNumber":%s,"pageToken":""},"apoRequest":{"apoPageSize":10},"searchHistory":[{"objectId":10470,"searchDate":"2021-12-15","searchType":"PropertySearch","childrenAges":[]},{"objectId":529150,"searchDate":"2021-12-15","searchType":"PropertySearch","childrenAges":[]},{"objectId":4762,"searchDate":"2021-12-16","searchType":"PropertySearch","childrenAges":[]}],"searchDetailRequest":{"priceHistogramBins":50},"isTrimmedResponseRequested":false,"featuredAgodaHomesRequest":null,"featuredLuxuryHotelsRequest":null,"highlyRatedAgodaHomesRequest":{"numberOfAgodaHomes":30,"minimumReviewScore":7.5,"minimumReviewCount":3,"accommodationTypes":[28,29,30,102,103,106,107,108,109,110,114,115,120,131],"sortVersion":0},"extraAgodaHomesRequest":null,"extraHotels":{"extraHotelIds":[],"enableFiltersForExtraHotels":false},"packaging":null,"flexibleSearchRequest":{"fromDate":"2021-12-20","toDate":"2022-01-21","alternativeDateSize":4}}},"ContentSummaryRequest":{"context":{"rawUserId":"9d229ec9-a7b9-41fd-86dd-415e6797a3ca","memberId":0,"userOrigin":"ID","locale":"en-us","forceExperimentsByIdNew":[{"key":"FAM-366","value":"B"},{"key":"DRAGON-2308","value":"B"},{"key":"MIN-13903-2","value":"B"},{"key":"MIN-14036","value":"B"},{"key":"UMRAH-B2B","value":"B"},{"key":"UMRAH-B2C-REGIONAL","value":"B"},{"key":"UMRAH-B2C","value":"Z"},{"key":"JGCW-202","value":"B"},{"key":"JGCW-204","value":"B"},{"key":"JGCW-264","value":"B"},{"key":"JGCW-299","value":"B"},{"key":"JGCW-159","value":"B"},{"key":"FD-3936","value":"B"}],"apo":false,"searchCriteria":{"cityId":16087},"platform":{"id":1},"storeFrontId":3,"cid":"1844104","occupancy":{"numberOfAdults":2,"numberOfChildren":0,"travelerType":1},"deviceTypeId":1,"whiteLabelKey":"","correlationId":""},"summary":{"highlightedFeaturesOrderPriority":null,"description":false},"reviews":{"commentary":null,"demographics":{"providerIds":null,"filter":{"defaultProviderOnly":true}},"summaries":{"providerIds":null,"apo":true,"limit":1,"travellerType":2},"cumulative":{"providerIds":null},"filters":null},"images":{"page":null,"maxWidth":0,"maxHeight":0,"imageSizes":null,"indexOffset":null},"rooms":{"images":null,"featureLimit":0,"filterCriteria":null,"includeMissing":false,"includeSoldOut":false,"includeDmcRoomId":false,"soldOutRoomCriteria":null,"showRoomSize":true,"showRoomFacilities":true},"nonHotelAccommodation":true,"engagement":true,"highlights":{"maxNumberOfItems":0,"images":{"imageSizes":[{"key":"full","size":{"width":0,"height":0}}]}},"personalizedInformation":false,"localInformation":{"images":null},"features":null,"rateCategories":true,"contentRateCategories":{"escapeRateCategories":{}},"synopsis":true},"PricingSummaryRequest":{"cheapestOnly":true,"context":{"isAllowBookOnRequest":true,"abTests":[{"testId":9021,"abUser":"B"},{"testId":9023,"abUser":"B"},{"testId":9024,"abUser":"B"},{"testId":9025,"abUser":"B"},{"testId":9027,"abUser":"B"},{"testId":9029,"abUser":"B"}],"clientInfo":{"cid":1844104,"languageId":1,"languageUse":1,"origin":"ID","platform":1,"searchId":"","storefront":3,"userId":"9d229ec9-a7b9-41fd-86dd-415e6797a3ca","ipAddress":"110.137.195.241"},"experiment":[{"name":"FAM-366","variant":"B"},{"name":"DRAGON-2308","variant":"B"},{"name":"MIN-13903-2","variant":"B"},{"name":"MIN-14036","variant":"B"},{"name":"UMRAH-B2B","variant":"B"},{"name":"UMRAH-B2C-REGIONAL","variant":"B"},{"name":"UMRAH-B2C","variant":"Z"},{"name":"JGCW-202","variant":"B"},{"name":"JGCW-204","variant":"B"},{"name":"JGCW-264","variant":"B"},{"name":"JGCW-299","variant":"B"},{"name":"JGCW-159","variant":"B"},{"name":"FD-3936","variant":"B"}],"isDebug":false,"sessionInfo":{"isLogin":false,"memberId":0,"sessionId":1},"packaging":null},"isSSR":true,"pricing":{"bookingDate":"2021-12-20T02:30:39.231Z","checkIn":"2021-12-21T17:00:00.000Z","checkout":"2021-12-22T17:00:00.000Z","localCheckInDate":"2021-12-22","localCheckoutDate":"2021-12-23","currency":"IDR","details":{"cheapestPriceOnly":false,"itemBreakdown":false,"priceBreakdown":false},"featureFlag":["ClientDiscount","PriceHistory","VipPlatinum","CouponSellEx","MixAndSave","APSPeek","StackChannelDiscount","AutoApplyPromos","EnableAgencySupplyForPackages","EnableCashback","CreditCardPromotionPeek"],"features":{"crossOutRate":false,"isAPSPeek":false,"isAllOcc":false,"isApsEnabled":false,"isIncludeUsdAndLocalCurrency":false,"isMSE":true,"isRPM2Included":true,"maxSuggestions":0,"newRateModel":false,"overrideOccupancy":false,"filterCheapestRoomEscapesPackage":false,"priusId":0,"synchronous":false,"enableRichContentOffer":true,"showCouponAmountInUserCurrency":false,"disableEscapesPackage":false},"filters":{"cheapestRoomFilters":[],"filterAPO":false,"ratePlans":[1],"secretDealOnly":false,"suppliers":[],"nosOfBedrooms":[]},"includedPriceInfo":false,"occupancy":{"adults":2,"children":0,"childAges":[],"rooms":1,"childrenTypes":[]},"supplierPullMetadata":{"requiredPrecheckAccuracyLevel":0},"mseHotelIds":[],"ppLandingHotelIds":[],"searchedHotelIds":[],"paymentId":-1},"suggestedPrice":"Exclusive"},"PriceStreamMetaLabRequest":{"attributesId":[8,1,18,7,11,2,3]}},"query":"query citySearch($CitySearchRequest: CitySearchRequest!, $ContentSummaryRequest: ContentSummaryRequest!, $PricingSummaryRequest: PricingRequestParameters, $PriceStreamMetaLabRequest: PriceStreamMetaLabRequest) {\\n  citySearch(CitySearchRequest: $CitySearchRequest) {\\n    searchResult {\\n      sortMatrix {\\n        result {\\n          fieldId\\n          sorting {\\n            sortField\\n            sortOrder\\n            sortParams {\\n              id\\n            }\\n          }\\n          display {\\n            name\\n          }\\n          childMatrix {\\n            fieldId\\n            sorting {\\n              sortField\\n              sortOrder\\n              sortParams {\\n                id\\n              }\\n            }\\n            display {\\n              name\\n            }\\n            childMatrix {\\n              fieldId\\n              sorting {\\n                sortField\\n                sortOrder\\n                sortParams {\\n                  id\\n                }\\n              }\\n              display {\\n                name\\n              }\\n            }\\n          }\\n        }\\n      }\\n      searchInfo {\\n        flexibleSearch {\\n          currentDate {\\n            checkIn\\n            price\\n          }\\n          alternativeDates {\\n            checkIn\\n            price\\n          }\\n        }\\n        hasSecretDeal\\n        isComplete\\n        totalFilteredHotels\\n        hasEscapesPackage\\n        searchStatus {\\n          searchCriteria {\\n            checkIn\\n          }\\n          searchStatus\\n        }\\n        objectInfo {\\n          objectName\\n          cityName\\n          cityEnglishName\\n          countryId\\n          countryEnglishName\\n          mapLatitude\\n          mapLongitude\\n          mapZoomLevel\\n          wlPreferredCityName\\n          wlPreferredCountryName\\n          cityId\\n          cityCenterPolygon {\\n            geoPoints {\\n              lon\\n              lat\\n            }\\n            touristAreaCenterPoint {\\n              lon\\n              lat\\n            }\\n          }\\n        }\\n      }\\n      urgencyDetail {\\n        urgencyScore\\n      }\\n      histogram {\\n        bins {\\n          numOfElements\\n          upperBound {\\n            perNightPerRoom\\n            perPax\\n          }\\n        }\\n      }\\n      nhaProbability\\n    }\\n    properties(ContentSummaryRequest: $ContentSummaryRequest, PricingSummaryRequest: $PricingSummaryRequest, PriceStreamMetaLabRequest: $PriceStreamMetaLabRequest) {\\n      propertyId\\n      sponsoredDetail {\\n        sponsoredType\\n        trackingData\\n        isShowSponsoredFlag\\n      }\\n      propertyResultType\\n      content {\\n        informationSummary {\\n          propertyLinks {\\n            propertyPage\\n          }\\n          atmospheres {\\n            id\\n            name\\n          }\\n          localeName\\n          defaultName\\n          displayName\\n          accommodationType\\n          awardYear\\n          hasHostExperience\\n          address {\\n            countryCode\\n            country {\\n              id\\n              name\\n            }\\n            city {\\n              id\\n              name\\n            }\\n            area {\\n              id\\n              name\\n            }\\n          }\\n          propertyType\\n          rating\\n          agodaGuaranteeProgram\\n          remarks {\\n            renovationInfo {\\n              renovationType\\n              year\\n            }\\n          }\\n          spokenLanguages {\\n            id\\n          }\\n          geoInfo {\\n            latitude\\n            longitude\\n          }\\n        }\\n        propertyEngagement {\\n          lastBooking\\n          peopleLooking\\n        }\\n        nonHotelAccommodation {\\n          masterRooms {\\n            noOfBathrooms\\n            noOfBedrooms\\n            noOfBeds\\n            roomSizeSqm\\n            highlightedFacilities\\n          }\\n          hostLevel {\\n            id\\n            name\\n          }\\n          supportedLongStay\\n        }\\n        facilities {\\n          id\\n        }\\n        images {\\n          hotelImages {\\n            id\\n            caption\\n            providerId\\n            urls {\\n              key\\n              value\\n            }\\n          }\\n        }\\n        reviews {\\n          contentReview {\\n            isDefault\\n            providerId\\n            demographics {\\n              groups {\\n                id\\n                grades {\\n                  id\\n                  score\\n                }\\n              }\\n            }\\n            summaries {\\n              recommendationScores {\\n                recommendationScore\\n              }\\n              snippets {\\n                countryId\\n                countryCode\\n                countryName\\n                date\\n                demographicId\\n                demographicName\\n                reviewer\\n                reviewRating\\n                snippet\\n              }\\n            }\\n            cumulative {\\n              reviewCount\\n              score\\n            }\\n          }\\n          cumulative {\\n            reviewCount\\n            score\\n          }\\n        }\\n        familyFeatures {\\n          hasChildrenFreePolicy\\n          isFamilyRoom\\n          hasMoreThanOneBedroom\\n          isInterConnectingRoom\\n          isInfantCottageAvailable\\n          hasKidsPool\\n          hasKidsClub\\n        }\\n        personalizedInformation {\\n          childrenFreePolicy {\\n            fromAge\\n            toAge\\n          }\\n        }\\n        localInformation {\\n          landmarks {\\n            transportation {\\n              landmarkName\\n              distanceInM\\n            }\\n            topLandmark {\\n              landmarkName\\n              distanceInM\\n            }\\n            beach {\\n              landmarkName\\n              distanceInM\\n            }\\n          }\\n          hasAirportTransfer\\n        }\\n        highlight {\\n          cityCenter {\\n            distanceFromCityCenter\\n          }\\n          favoriteFeatures {\\n            features {\\n              id\\n              title\\n              category\\n            }\\n          }\\n          hasNearbyPublicTransportation\\n        }\\n        rateCategories {\\n          escapeRateCategories {\\n            rateCategoryId\\n            localizedRateCategoryName\\n          }\\n        }\\n      }\\n      soldOut {\\n        soldOutPrice {\\n          averagePrice\\n        }\\n      }\\n      pricing {\\n        pulseCampaignMetadata {\\n          promotionTypeId\\n          webCampaignId\\n          campaignTypeId\\n          campaignBadgeText\\n          campaignBadgeDescText\\n        }\\n        isAvailable\\n        isReady\\n        benefits\\n        cheapestRoomOffer {\\n          agodaCash {\\n            showBadge\\n            giftcardGuid\\n            dayToEarn\\n            earnId\\n            percentage\\n            expiryDay\\n          }\\n          cashback {\\n            cashbackGuid\\n            showPostCashbackPrice\\n            percentage\\n            earnId\\n            dayToEarn\\n            expiryDay\\n          }\\n        }\\n        isEasyCancel\\n        isInsiderDeal\\n        isMultiHotelEligible\\n        suggestPriceType {\\n          suggestPrice\\n        }\\n        roomBundle {\\n          bundleId\\n          bundleType\\n          saveAmount {\\n            perNight {\\n              ...Frag86c630jj84ahi60eh0ae\\n            }\\n          }\\n        }\\n        pointmax {\\n          channelId\\n          point\\n        }\\n        priceChange {\\n          changePercentage\\n          searchDate\\n        }\\n        payment {\\n          cancellation {\\n            cancellationType\\n            freeCancellationDate\\n          }\\n          payLater {\\n            isEligible\\n          }\\n          payAtHotel {\\n            isEligible\\n          }\\n          noCreditCard {\\n            isEligible\\n          }\\n          taxReceipt {\\n            isEligible\\n          }\\n        }\\n        cheapestStayPackageRatePlans {\\n          stayPackageType\\n          ratePlanId\\n        }\\n        pricingMessages {\\n          location\\n          ids\\n        }\\n        suppliersSummaries {\\n          id\\n          supplierHotelId\\n        }\\n        supplierInfo {\\n          id\\n          name\\n          isAgodaBand\\n        }\\n        offers {\\n          roomOffers {\\n            room {\\n              availableRooms\\n              isPromoEligible\\n              promotions {\\n                typeId\\n                promotionDiscount {\\n                  value\\n                }\\n              }\\n              supplierId\\n              corSummary {\\n                hasCor\\n                corType\\n                isOriginal\\n                hasOwnCOR\\n                isBlacklistedCor\\n              }\\n              localVoucher {\\n                currencyCode\\n                amount\\n              }\\n              packaging {\\n                token {\\n                  clientToken\\n                  interSystemToken\\n                }\\n                products {\\n                  refId\\n                  info {\\n                    type\\n                    offerType\\n                    identifier {\\n                      key\\n                      value\\n                    }\\n                  }\\n                  pricingItems {\\n                    currency\\n                    display {\\n                      perPax {\\n                        type\\n                        allInclusive {\\n                          chargeTotal\\n                          specialPriceAndSaving {\\n                            targetPrice\\n                            saving {\\n                              amount\\n                            }\\n                          }\\n                          crossedOut\\n                        }\\n                        exclusive {\\n                          chargeTotal\\n                          specialPriceAndSaving {\\n                            targetPrice\\n                            saving {\\n                              amount\\n                            }\\n                          }\\n                          crossedOut\\n                        }\\n                      }\\n                      perBook {\\n                        type\\n                        allInclusive {\\n                          chargeTotal\\n                          specialPriceAndSaving {\\n                            targetPrice\\n                            saving {\\n                              amount\\n                            }\\n                          }\\n                          crossedOut\\n                        }\\n                        exclusive {\\n                          chargeTotal\\n                          specialPriceAndSaving {\\n                            targetPrice\\n                            saving {\\n                              amount\\n                            }\\n                          }\\n                          crossedOut\\n                        }\\n                      }\\n                      perRoomPerNight {\\n                        allInclusive {\\n                          chargeTotal\\n                          specialPriceAndSaving {\\n                            targetPrice\\n                            saving {\\n                              amount\\n                            }\\n                          }\\n                          crossedOut\\n                        }\\n                        exclusive {\\n                          chargeTotal\\n                          specialPriceAndSaving {\\n                            targetPrice\\n                            saving {\\n                              amount\\n                            }\\n                          }\\n                          crossedOut\\n                        }\\n                      }\\n                    }\\n                  }\\n                }\\n                pricing {\\n                  display {\\n                    perBook {\\n                      total {\\n                        allInclusive {\\n                          specialPriceAndSaving {\\n                            targetPrice\\n                            saving {\\n                              amount\\n                            }\\n                          }\\n                          crossedOut\\n                          channelSaving {\\n                            amount\\n                          }\\n                          totalSaving {\\n                            amount\\n                          }\\n                          original\\n                          chargeTotal\\n                        }\\n                        exclusive {\\n                          specialPriceAndSaving {\\n                            targetPrice\\n                            saving {\\n                              amount\\n                            }\\n                          }\\n                          crossedOut\\n                          channelSaving {\\n                            amount\\n                          }\\n                          totalSaving {\\n                            amount\\n                          }\\n                          original\\n                          chargeTotal\\n                        }\\n                      }\\n                      differential {\\n                        allInclusive {\\n                          chargeTotal\\n                        }\\n                        exclusive {\\n                          chargeTotal\\n                        }\\n                      }\\n                    }\\n                    perPax {\\n                      total {\\n                        allInclusive {\\n                          crossedOut\\n                          channelSaving {\\n                            amount\\n                          }\\n                          totalSaving {\\n                            amount\\n                          }\\n                          original\\n                          chargeTotal\\n                        }\\n                        exclusive {\\n                          crossedOut\\n                          channelSaving {\\n                            amount\\n                          }\\n                          totalSaving {\\n                            amount\\n                          }\\n                          original\\n                          chargeTotal\\n                        }\\n                      }\\n                      differential {\\n                        allInclusive {\\n                          chargeTotal\\n                        }\\n                        exclusive {\\n                          chargeTotal\\n                        }\\n                      }\\n                    }\\n                  }\\n                }\\n              }\\n              pricing {\\n                currency\\n                price {\\n                  perNight {\\n                    exclusive {\\n                      display\\n                      cashbackPrice\\n                      displayAfterCashback\\n                      originalPrice\\n                    }\\n                    inclusive {\\n                      display\\n                      cashbackPrice\\n                      displayAfterCashback\\n                      originalPrice\\n                    }\\n                  }\\n                  perBook {\\n                    exclusive {\\n                      display\\n                      cashbackPrice\\n                      displayAfterCashback\\n                      rebatePrice\\n                      originalPrice\\n                      autoAppliedPromoDiscount\\n                    }\\n                    inclusive {\\n                      display\\n                      cashbackPrice\\n                      displayAfterCashback\\n                      rebatePrice\\n                      originalPrice\\n                      autoAppliedPromoDiscount\\n                    }\\n                  }\\n                  perRoomPerNight {\\n                    exclusive {\\n                      display\\n                      crossedOutPrice\\n                      cashbackPrice\\n                      displayAfterCashback\\n                      rebatePrice\\n                      pseudoCouponPrice\\n                      originalPrice\\n                    }\\n                    inclusive {\\n                      display\\n                      crossedOutPrice\\n                      cashbackPrice\\n                      displayAfterCashback\\n                      rebatePrice\\n                      pseudoCouponPrice\\n                      originalPrice\\n                    }\\n                  }\\n                  totalDiscount\\n                  priceAfterAppliedAgodaCash {\\n                    perBook {\\n                      ...Frag8f3e6bi79icac33e0684\\n                    }\\n                    perRoomPerNight {\\n                      ...Frag8f3e6bi79icac33e0684\\n                    }\\n                  }\\n                }\\n                apsPeek {\\n                  perRoomPerNight {\\n                    ...Frag86c630jj84ahi60eh0ae\\n                  }\\n                }\\n                promotionPricePeek {\\n                  display {\\n                    perBook {\\n                      ...Frag86c630jj84ahi60eh0ae\\n                    }\\n                    perRoomPerNight {\\n                      ...Frag86c630jj84ahi60eh0ae\\n                    }\\n                    perNight {\\n                      ...Frag86c630jj84ahi60eh0ae\\n                    }\\n                  }\\n                  discountType\\n                  promotionCodeType\\n                  promotionCode\\n                  promoAppliedOnFinalPrice\\n                  childPromotions {\\n                    campaignId\\n                  }\\n                  campaignName\\n                }\\n                channelDiscountSummary {\\n                  channelDiscountBreakdown {\\n                    display\\n                    discountPercent\\n                    channelId\\n                  }\\n                }\\n              }\\n              uid\\n              payment {\\n                paymentModel\\n                cancellation {\\n                  cancellationType\\n                }\\n              }\\n              discount {\\n                deals\\n                channelDiscount\\n              }\\n              saveUpTo {\\n                perRoomPerNight\\n              }\\n              benefits {\\n                id\\n                targetType\\n              }\\n              channel {\\n                id\\n              }\\n              mseRoomSummaries {\\n                supplierId\\n                subSupplierId\\n                pricingSummaries {\\n                  currency\\n                  channelDiscountSummary {\\n                    channelDiscountBreakdown {\\n                      channelId\\n                      discountPercent\\n                      display\\n                    }\\n                  }\\n                  price {\\n                    perRoomPerNight {\\n                      exclusive {\\n                        display\\n                      }\\n                      inclusive {\\n                        display\\n                      }\\n                    }\\n                  }\\n                }\\n              }\\n              cashback {\\n                cashbackGuid\\n                showPostCashbackPrice\\n                percentage\\n                earnId\\n                dayToEarn\\n                expiryDay\\n              }\\n              agodaCash {\\n                showBadge\\n                giftcardGuid\\n                dayToEarn\\n                expiryDay\\n                percentage\\n              }\\n              corInfo {\\n                corInfo {\\n                  corType\\n                }\\n              }\\n              loyaltyDisplay {\\n                items\\n              }\\n              capacity {\\n                extraBedsAvailable\\n              }\\n              pricingMessages {\\n                formatted {\\n                  location\\n                  texts {\\n                    index\\n                    text\\n                  }\\n                }\\n              }\\n              campaign {\\n                selected {\\n                  messages {\\n                    campaignName\\n                    title\\n                    titleWithDiscount\\n                    description\\n                    linkOutText\\n                    url\\n                  }\\n                }\\n              }\\n              isTaiwanCampaignEligible\\n            }\\n          }\\n        }\\n      }\\n      metaLab {\\n        attributes {\\n          attributeId\\n          dataType\\n          value\\n          version\\n        }\\n      }\\n      enrichment {\\n        topSellingPoint {\\n          tspType\\n          value\\n        }\\n        pricingBadges {\\n          badges\\n        }\\n        uniqueSellingPoint {\\n          rank\\n          segment\\n          uspType\\n          uspPropertyType\\n        }\\n        bookingHistory {\\n          bookingCount {\\n            count\\n            timeFrame\\n          }\\n        }\\n        showReviewSnippet\\n        isPopular\\n        roomInformation {\\n          cheapestRoomSizeSqm\\n          facilities {\\n            id\\n            propertyFacilityName\\n            symbol\\n          }\\n        }\\n      }\\n      priceBreakerProperties {\\n        propertyId\\n        content {\\n          informationSummary {\\n            displayName\\n            rating\\n            propertyLinks {\\n              propertyPage\\n            }\\n            address {\\n              area {\\n                name\\n              }\\n              city {\\n                name\\n              }\\n            }\\n          }\\n          highlight {\\n            cityCenter {\\n              distanceFromCityCenter\\n              isInsideCityCenter\\n            }\\n          }\\n          reviews {\\n            contentReview {\\n              summaries {\\n                snippets {\\n                  countryId\\n                  countryCode\\n                  countryName\\n                  date\\n                  demographicId\\n                  demographicName\\n                  reviewer\\n                  reviewRating\\n                  snippet\\n                }\\n              }\\n            }\\n            cumulative {\\n              score\\n              reviewCount\\n            }\\n          }\\n          images {\\n            hotelImages {\\n              id\\n              caption\\n              providerId\\n              urls {\\n                key\\n                value\\n              }\\n            }\\n          }\\n        }\\n        pricing {\\n          isReady\\n          isAvailable\\n          offers {\\n            roomOffers {\\n              room {\\n                uid\\n                pricing {\\n                  currency\\n                  price {\\n                    perRoomPerNight {\\n                      exclusive {\\n                        crossedOutPrice\\n                        display\\n                      }\\n                      inclusive {\\n                        crossedOutPrice\\n                        display\\n                      }\\n                    }\\n                  }\\n                }\\n              }\\n            }\\n          }\\n        }\\n      }\\n    }\\n    searchEnrichment {\\n      suppliersInformation {\\n        supplierId\\n        supplierName\\n        isAgodaBand\\n      }\\n    }\\n    aggregation {\\n      matrixGroupResults {\\n        matrixGroup\\n        matrixItemResults {\\n          id\\n          name\\n          count\\n          filterKey\\n          filterRequestType\\n          extraDataResults {\\n            text\\n            matrixExtraDataType\\n          }\\n        }\\n      }\\n    }\\n  }\\n}\\n\\nfragment Frag8f3e6bi79icac33e0684 on DisplayPrice {\\n  exclusive\\n  allInclusive\\n}\\n\\nfragment Frag86c630jj84ahi60eh0ae on DFDisplayPrice {\\n  exclusive\\n  allInclusive\\n}\\n"}'%(region_id,page)
        if region[2] == "area":
            areaid = region[3]
            # data = '{"operationName":"areaSearch","variables":{"AreaSearchRequest":{"cityId":14524,"areaId":514650,"searchRequest":{"searchCriteria":{"isAllowBookOnRequest":true,"bookingDate":"2021-12-24T09:36:45.550Z","checkInDate":"2022-01-19T17:00:00.000Z","localCheckInDate":"2022-01-20","los":1,"rooms":1,"adults":2,"children":0,"childAges":[],"ratePlans":[],"featureFlagRequest":{"fetchNamesForTealium":true,"fiveStarDealOfTheDay":true,"isAllowBookOnRequest":false,"showUnAvailable":true,"showRemainingProperties":true,"isMultiHotelSearch":false,"enableAgencySupplyForPackages":true,"flags":[{"feature":"FamilyChildFriendlyPopularFilter","enable":true},{"feature":"FamilyChildFriendlyPropertyTypeFilter","enable":true},{"feature":"FamilyMode","enable":false}],"enablePriceBreaker":false,"enablePageToken":false},"isUserLoggedIn":false,"currency":"IDR","travellerType":"Couple","isAPSPeek":false,"enableOpaqueChannel":false,"isEnabledPartnerChannelSelection":null,"sorting":{"sortField":"Ranking","sortOrder":"Desc","sortParams":null},"requiredBasis":"PRPN","requiredPrice":"Exclusive","suggestionLimit":0,"synchronous":false,"supplierPullMetadataRequest":null,"isRoomSuggestionRequested":false,"isAPORequest":false,"hasAPOFilter":false},"searchContext":{"userId":"9d229ec9-a7b9-41fd-86dd-415e6797a3ca","memberId":0,"locale":"en-us","cid":1844104,"origin":"ID","platform":1,"deviceTypeId":1,"experiments":{"forceByVariant":null,"forceByExperiment":[{"id":"FAM-366","variant":"B"},{"id":"DRAGON-2308","variant":"B"},{"id":"MIN-13903-2","variant":"B"},{"id":"MIN-14036","variant":"B"},{"id":"UMRAH-B2B","variant":"B"},{"id":"UMRAH-B2C-REGIONAL","variant":"B"},{"id":"UMRAH-B2C","variant":"Z"},{"id":"JGCW-202","variant":"B"},{"id":"JGCW-204","variant":"B"},{"id":"JGCW-264","variant":"B"},{"id":"JGCW-299","variant":"B"},{"id":"JGCW-159","variant":"B"},{"id":"FD-3936","variant":"B"}]},"isRetry":false,"showCMS":false,"storeFrontId":3,"pageTypeId":103,"whiteLabelKey":null,"ipAddress":"125.161.118.133","endpointSearchType":"CitySearch","trackSteps":null},"matrix":null,"matrixGroup":[{"matrixGroup":"NumberOfBedrooms","size":100},{"matrixGroup":"AllGuestReviewBreakdown","size":100},{"matrixGroup":"BusStationLandmarkIds","size":20},{"matrixGroup":"GroupedBedTypes","size":100},{"matrixGroup":"RoomBenefits","size":100},{"matrixGroup":"RoomAmenities","size":100},{"matrixGroup":"AffordableCategory","size":100},{"matrixGroup":"HotelFacilities","size":100},{"matrixGroup":"BeachAccessTypeIds","size":100},{"matrixGroup":"StarRating","size":20},{"matrixGroup":"MetroSubwayStationLandmarkIds","size":20},{"matrixGroup":"CityCenterDistance","size":100},{"matrixGroup":"ProductType","size":100},{"matrixGroup":"ReviewLocationScore","size":3},{"matrixGroup":"LandmarkSubTypeCategoryIds","size":20},{"matrixGroup":"ReviewScore","size":100},{"matrixGroup":"IsStaycation","size":5},{"matrixGroup":"AccommodationType","size":100},{"matrixGroup":"PaymentOptions","size":100},{"matrixGroup":"TrainStationLandmarkIds","size":20},{"matrixGroup":"HotelChainId","size":10},{"matrixGroup":"RecommendedByDestinationCity","size":10},{"matrixGroup":"Deals","size":100}],"filterRequest":{"idsFilters":[],"rangeFilters":[],"textFilters":[]},"page":{"pageSize":45,"pageNumber":1,"pageToken":""},"apoRequest":{"apoPageSize":10},"searchHistory":[{"objectId":10470,"searchDate":"2021-12-15","searchType":"PropertySearch","childrenAges":[]},{"objectId":529150,"searchDate":"2021-12-15","searchType":"PropertySearch","childrenAges":[]},{"objectId":4762,"searchDate":"2021-12-16","searchType":"PropertySearch","childrenAges":[]},{"objectId":546169,"searchDate":"2021-12-20","searchType":"PropertySearch","childrenAges":[]},{"objectId":338317,"searchDate":"2021-12-20","searchType":"PropertySearch","childrenAges":[]},{"objectId":12426098,"searchDate":"2021-12-20","searchType":"PropertySearch","childrenAges":[]},{"objectId":43471,"searchDate":"2021-12-20","searchType":"PropertySearch","childrenAges":[]},{"objectId":338317,"searchDate":"2021-12-20","searchType":"PropertySearch","childrenAges":[]},{"objectId":13875957,"searchDate":"2021-12-20","searchType":"PropertySearch","childrenAges":[]},{"objectId":44617,"searchDate":"2021-12-21","searchType":"PropertySearch","childrenAges":[]},{"objectId":12423971,"searchDate":"2021-12-24","searchType":"PropertySearch","childrenAges":[]},{"objectId":10442,"searchDate":"2021-12-24","searchType":"PropertySearch","childrenAges":[]},{"objectId":546198,"searchDate":"2021-12-24","searchType":"PropertySearch","childrenAges":[]},{"objectId":15857251,"searchDate":"2021-12-24","searchType":"PropertySearch","childrenAges":[]},{"objectId":8665829,"searchDate":"2021-12-24","searchType":"PropertySearch","childrenAges":[]},{"objectId":16072732,"searchDate":"2021-12-24","searchType":"PropertySearch","childrenAges":[]}],"searchDetailRequest":{"priceHistogramBins":50},"isTrimmedResponseRequested":false,"featuredAgodaHomesRequest":null,"featuredLuxuryHotelsRequest":null,"highlyRatedAgodaHomesRequest":{"numberOfAgodaHomes":30,"minimumReviewScore":7.5,"minimumReviewCount":3,"accommodationTypes":[28,29,30,102,103,106,107,108,109,110,114,115,120,131],"sortVersion":0},"extraAgodaHomesRequest":null,"extraHotels":{"extraHotelIds":[],"enableFiltersForExtraHotels":false},"packaging":null,"flexibleSearchRequest":{"fromDate":"2021-12-24","toDate":"2022-02-19","alternativeDateSize":4}}},"ContentSummaryRequest":{"context":{"rawUserId":"9d229ec9-a7b9-41fd-86dd-415e6797a3ca","memberId":0,"userOrigin":"ID","locale":"en-us","forceExperimentsByIdNew":[{"key":"FAM-366","value":"B"},{"key":"DRAGON-2308","value":"B"},{"key":"MIN-13903-2","value":"B"},{"key":"MIN-14036","value":"B"},{"key":"UMRAH-B2B","value":"B"},{"key":"UMRAH-B2C-REGIONAL","value":"B"},{"key":"UMRAH-B2C","value":"Z"},{"key":"JGCW-202","value":"B"},{"key":"JGCW-204","value":"B"},{"key":"JGCW-264","value":"B"},{"key":"JGCW-299","value":"B"},{"key":"JGCW-159","value":"B"},{"key":"FD-3936","value":"B"}],"apo":false,"searchCriteria":{"cityId":14524},"platform":{"id":1},"storeFrontId":3,"cid":"1844104","occupancy":{"numberOfAdults":2,"numberOfChildren":0,"travelerType":1},"deviceTypeId":1,"whiteLabelKey":"","correlationId":""},"summary":{"highlightedFeaturesOrderPriority":null,"description":false},"reviews":{"commentary":null,"demographics":{"providerIds":null,"filter":{"defaultProviderOnly":true}},"summaries":{"providerIds":null,"apo":true,"limit":1,"travellerType":2},"cumulative":{"providerIds":null},"filters":null},"images":{"page":null,"maxWidth":0,"maxHeight":0,"imageSizes":null,"indexOffset":null},"rooms":{"images":null,"featureLimit":0,"filterCriteria":null,"includeMissing":false,"includeSoldOut":false,"includeDmcRoomId":false,"soldOutRoomCriteria":null,"showRoomSize":true,"showRoomFacilities":true},"nonHotelAccommodation":true,"engagement":true,"highlights":{"maxNumberOfItems":0,"images":{"imageSizes":[{"key":"full","size":{"width":0,"height":0}}]}},"personalizedInformation":false,"localInformation":{"images":null},"features":null,"rateCategories":true,"contentRateCategories":{"escapeRateCategories":{}},"synopsis":true},"PricingSummaryRequest":{"cheapestOnly":true,"context":{"isAllowBookOnRequest":true,"abTests":[{"testId":9021,"abUser":"B"},{"testId":9023,"abUser":"B"},{"testId":9024,"abUser":"B"},{"testId":9025,"abUser":"B"},{"testId":9027,"abUser":"B"},{"testId":9029,"abUser":"B"}],"clientInfo":{"cid":1844104,"languageId":1,"languageUse":1,"origin":"ID","platform":1,"searchId":"","storefront":3,"userId":"9d229ec9-a7b9-41fd-86dd-415e6797a3ca","ipAddress":"125.161.118.133"},"experiment":[{"name":"FAM-366","variant":"B"},{"name":"DRAGON-2308","variant":"B"},{"name":"MIN-13903-2","variant":"B"},{"name":"MIN-14036","variant":"B"},{"name":"UMRAH-B2B","variant":"B"},{"name":"UMRAH-B2C-REGIONAL","variant":"B"},{"name":"UMRAH-B2C","variant":"Z"},{"name":"JGCW-202","variant":"B"},{"name":"JGCW-204","variant":"B"},{"name":"JGCW-264","variant":"B"},{"name":"JGCW-299","variant":"B"},{"name":"JGCW-159","variant":"B"},{"name":"FD-3936","variant":"B"}],"isDebug":false,"sessionInfo":{"isLogin":false,"memberId":0,"sessionId":1},"packaging":null},"isSSR":true,"pricing":{"bookingDate":"2021-12-24T09:36:45.527Z","checkIn":"2022-01-19T17:00:00.000Z","checkout":"2022-01-20T17:00:00.000Z","localCheckInDate":"2022-01-20","localCheckoutDate":"2022-01-21","currency":"IDR","details":{"cheapestPriceOnly":false,"itemBreakdown":false,"priceBreakdown":false},"featureFlag":["ClientDiscount","PriceHistory","VipPlatinum","CouponSellEx","MixAndSave","APSPeek","StackChannelDiscount","AutoApplyPromos","EnableAgencySupplyForPackages","EnableCashback","CreditCardPromotionPeek"],"features":{"crossOutRate":false,"isAPSPeek":false,"isAllOcc":false,"isApsEnabled":false,"isIncludeUsdAndLocalCurrency":false,"isMSE":true,"isRPM2Included":true,"maxSuggestions":0,"newRateModel":false,"overrideOccupancy":false,"filterCheapestRoomEscapesPackage":false,"priusId":0,"synchronous":false,"enableRichContentOffer":true,"showCouponAmountInUserCurrency":false,"disableEscapesPackage":false},"filters":{"cheapestRoomFilters":[],"filterAPO":false,"ratePlans":[1],"secretDealOnly":false,"suppliers":[],"nosOfBedrooms":[]},"includedPriceInfo":false,"occupancy":{"adults":2,"children":0,"childAges":[],"rooms":1,"childrenTypes":[]},"supplierPullMetadata":{"requiredPrecheckAccuracyLevel":0},"mseHotelIds":[],"ppLandingHotelIds":[],"searchedHotelIds":[],"paymentId":-1},"suggestedPrice":"Exclusive"},"PriceStreamMetaLabRequest":{"attributesId":[8,1,18,7,11,2,3]}},"query":"query areaSearch($AreaSearchRequest: AreaSearchRequest!, $ContentSummaryRequest: ContentSummaryRequest!, $PricingSummaryRequest: PricingRequestParameters, $PriceStreamMetaLabRequest: PriceStreamMetaLabRequest) {\\n  areaSearch(AreaSearchRequest: $AreaSearchRequest) {\\n    searchResult {\\n      sortMatrix {\\n        result {\\n          fieldId\\n          sorting {\\n            sortField\\n            sortOrder\\n            sortParams {\\n              id\\n            }\\n          }\\n          display {\\n            name\\n          }\\n          childMatrix {\\n            fieldId\\n            sorting {\\n              sortField\\n              sortOrder\\n              sortParams {\\n                id\\n              }\\n            }\\n            display {\\n              name\\n            }\\n            childMatrix {\\n              fieldId\\n              sorting {\\n                sortField\\n                sortOrder\\n                sortParams {\\n                  id\\n                }\\n              }\\n              display {\\n                name\\n              }\\n            }\\n          }\\n        }\\n      }\\n      searchInfo {\\n        flexibleSearch {\\n          currentDate {\\n            checkIn\\n            price\\n          }\\n          alternativeDates {\\n            checkIn\\n            price\\n          }\\n        }\\n        hasSecretDeal\\n        isComplete\\n        totalFilteredHotels\\n        hasEscapesPackage\\n        searchStatus {\\n          searchCriteria {\\n            checkIn\\n          }\\n          searchStatus\\n        }\\n        objectInfo {\\n          objectName\\n          cityName\\n          cityEnglishName\\n          countryId\\n          countryEnglishName\\n          mapLatitude\\n          mapLongitude\\n          mapZoomLevel\\n          wlPreferredCityName\\n          wlPreferredCountryName\\n          cityId\\n          cityCenterPolygon {\\n            geoPoints {\\n              lon\\n              lat\\n            }\\n            touristAreaCenterPoint {\\n              lon\\n              lat\\n            }\\n          }\\n        }\\n      }\\n      urgencyDetail {\\n        urgencyScore\\n      }\\n      histogram {\\n        bins {\\n          numOfElements\\n          upperBound {\\n            perNightPerRoom\\n            perPax\\n          }\\n        }\\n      }\\n      nhaProbability\\n    }\\n    properties(ContentSummaryRequest: $ContentSummaryRequest, PricingSummaryRequest: $PricingSummaryRequest, PriceStreamMetaLabRequest: $PriceStreamMetaLabRequest) {\\n      propertyId\\n      sponsoredDetail {\\n        sponsoredType\\n        trackingData\\n        isShowSponsoredFlag\\n      }\\n      propertyResultType\\n      content {\\n        informationSummary {\\n          propertyLinks {\\n            propertyPage\\n          }\\n          atmospheres {\\n            id\\n            name\\n          }\\n          localeName\\n          defaultName\\n          displayName\\n          accommodationType\\n          awardYear\\n          hasHostExperience\\n          address {\\n            countryCode\\n            country {\\n              id\\n              name\\n            }\\n            city {\\n              id\\n              name\\n            }\\n            area {\\n              id\\n              name\\n            }\\n          }\\n          propertyType\\n          rating\\n          agodaGuaranteeProgram\\n          remarks {\\n            renovationInfo {\\n              renovationType\\n              year\\n            }\\n          }\\n          spokenLanguages {\\n            id\\n          }\\n          geoInfo {\\n            latitude\\n            longitude\\n          }\\n        }\\n        propertyEngagement {\\n          lastBooking\\n          peopleLooking\\n        }\\n        nonHotelAccommodation {\\n          masterRooms {\\n            noOfBathrooms\\n            noOfBedrooms\\n            noOfBeds\\n            roomSizeSqm\\n            highlightedFacilities\\n          }\\n          hostLevel {\\n            id\\n            name\\n          }\\n          supportedLongStay\\n        }\\n        facilities {\\n          id\\n        }\\n        images {\\n          hotelImages {\\n            id\\n            caption\\n            providerId\\n            urls {\\n              key\\n              value\\n            }\\n          }\\n        }\\n        reviews {\\n          contentReview {\\n            isDefault\\n            providerId\\n            demographics {\\n              groups {\\n                id\\n                grades {\\n                  id\\n                  score\\n                }\\n              }\\n            }\\n            summaries {\\n              recommendationScores {\\n                recommendationScore\\n              }\\n              snippets {\\n                countryId\\n                countryCode\\n                countryName\\n                date\\n                demographicId\\n                demographicName\\n                reviewer\\n                reviewRating\\n                snippet\\n              }\\n            }\\n            cumulative {\\n              reviewCount\\n              score\\n            }\\n          }\\n          cumulative {\\n            reviewCount\\n            score\\n          }\\n        }\\n        familyFeatures {\\n          hasChildrenFreePolicy\\n          isFamilyRoom\\n          hasMoreThanOneBedroom\\n          isInterConnectingRoom\\n          isInfantCottageAvailable\\n          hasKidsPool\\n          hasKidsClub\\n        }\\n        personalizedInformation {\\n          childrenFreePolicy {\\n            fromAge\\n            toAge\\n          }\\n        }\\n        localInformation {\\n          landmarks {\\n            transportation {\\n              landmarkName\\n              distanceInM\\n            }\\n            topLandmark {\\n              landmarkName\\n              distanceInM\\n            }\\n            beach {\\n              landmarkName\\n              distanceInM\\n            }\\n          }\\n          hasAirportTransfer\\n        }\\n        highlight {\\n          cityCenter {\\n            distanceFromCityCenter\\n          }\\n          favoriteFeatures {\\n            features {\\n              id\\n              title\\n              category\\n            }\\n          }\\n          hasNearbyPublicTransportation\\n        }\\n        rateCategories {\\n          escapeRateCategories {\\n            rateCategoryId\\n            localizedRateCategoryName\\n          }\\n        }\\n      }\\n      soldOut {\\n        soldOutPrice {\\n          averagePrice\\n        }\\n      }\\n      pricing {\\n        pulseCampaignMetadata {\\n          promotionTypeId\\n          webCampaignId\\n          campaignTypeId\\n          campaignBadgeText\\n          campaignBadgeDescText\\n        }\\n        isAvailable\\n        isReady\\n        benefits\\n        cheapestRoomOffer {\\n          agodaCash {\\n            showBadge\\n            giftcardGuid\\n            dayToEarn\\n            earnId\\n            percentage\\n            expiryDay\\n          }\\n          cashback {\\n            cashbackGuid\\n            showPostCashbackPrice\\n            percentage\\n            earnId\\n            dayToEarn\\n            expiryDay\\n          }\\n        }\\n        isEasyCancel\\n        isInsiderDeal\\n        isMultiHotelEligible\\n        suggestPriceType {\\n          suggestPrice\\n        }\\n        roomBundle {\\n          bundleId\\n          bundleType\\n          saveAmount {\\n            perNight {\\n              ...Fragbe55d6042d652b58bcad\\n            }\\n          }\\n        }\\n        pointmax {\\n          channelId\\n          point\\n        }\\n        priceChange {\\n          changePercentage\\n          searchDate\\n        }\\n        payment {\\n          cancellation {\\n            cancellationType\\n            freeCancellationDate\\n          }\\n          payLater {\\n            isEligible\\n          }\\n          payAtHotel {\\n            isEligible\\n          }\\n          noCreditCard {\\n            isEligible\\n          }\\n          taxReceipt {\\n            isEligible\\n          }\\n        }\\n        cheapestStayPackageRatePlans {\\n          stayPackageType\\n          ratePlanId\\n        }\\n        pricingMessages {\\n          location\\n          ids\\n        }\\n        suppliersSummaries {\\n          id\\n          supplierHotelId\\n        }\\n        supplierInfo {\\n          id\\n          name\\n          isAgodaBand\\n        }\\n        offers {\\n          roomOffers {\\n            room {\\n              availableRooms\\n              isPromoEligible\\n              promotions {\\n                typeId\\n                promotionDiscount {\\n                  value\\n                }\\n              }\\n              supplierId\\n              corSummary {\\n                hasCor\\n                corType\\n                isOriginal\\n                hasOwnCOR\\n                isBlacklistedCor\\n              }\\n              localVoucher {\\n                currencyCode\\n                amount\\n              }\\n              packaging {\\n                token {\\n                  clientToken\\n                  interSystemToken\\n                }\\n                products {\\n                  refId\\n                  info {\\n                    type\\n                    offerType\\n                    identifier {\\n                      key\\n                      value\\n                    }\\n                  }\\n                  pricingItems {\\n                    currency\\n                    display {\\n                      perPax {\\n                        type\\n                        allInclusive {\\n                          chargeTotal\\n                          specialPriceAndSaving {\\n                            targetPrice\\n                            saving {\\n                              amount\\n                            }\\n                          }\\n                          crossedOut\\n                        }\\n                        exclusive {\\n                          chargeTotal\\n                          specialPriceAndSaving {\\n                            targetPrice\\n                            saving {\\n                              amount\\n                            }\\n                          }\\n                          crossedOut\\n                        }\\n                      }\\n                      perBook {\\n                        type\\n                        allInclusive {\\n                          chargeTotal\\n                          specialPriceAndSaving {\\n                            targetPrice\\n                            saving {\\n                              amount\\n                            }\\n                          }\\n                          crossedOut\\n                        }\\n                        exclusive {\\n                          chargeTotal\\n                          specialPriceAndSaving {\\n                            targetPrice\\n                            saving {\\n                              amount\\n                            }\\n                          }\\n                          crossedOut\\n                        }\\n                      }\\n                      perRoomPerNight {\\n                        allInclusive {\\n                          chargeTotal\\n                          specialPriceAndSaving {\\n                            targetPrice\\n                            saving {\\n                              amount\\n                            }\\n                          }\\n                          crossedOut\\n                        }\\n                        exclusive {\\n                          chargeTotal\\n                          specialPriceAndSaving {\\n                            targetPrice\\n                            saving {\\n                              amount\\n                            }\\n                          }\\n                          crossedOut\\n                        }\\n                      }\\n                    }\\n                  }\\n                }\\n                pricing {\\n                  display {\\n                    perBook {\\n                      total {\\n                        allInclusive {\\n                          specialPriceAndSaving {\\n                            targetPrice\\n                            saving {\\n                              amount\\n                            }\\n                          }\\n                          crossedOut\\n                          channelSaving {\\n                            amount\\n                          }\\n                          totalSaving {\\n                            amount\\n                          }\\n                          original\\n                          chargeTotal\\n                        }\\n                        exclusive {\\n                          specialPriceAndSaving {\\n                            targetPrice\\n                            saving {\\n                              amount\\n                            }\\n                          }\\n                          crossedOut\\n                          channelSaving {\\n                            amount\\n                          }\\n                          totalSaving {\\n                            amount\\n                          }\\n                          original\\n                          chargeTotal\\n                        }\\n                      }\\n                      differential {\\n                        allInclusive {\\n                          chargeTotal\\n                        }\\n                        exclusive {\\n                          chargeTotal\\n                        }\\n                      }\\n                    }\\n                    perPax {\\n                      total {\\n                        allInclusive {\\n                          crossedOut\\n                          channelSaving {\\n                            amount\\n                          }\\n                          totalSaving {\\n                            amount\\n                          }\\n                          original\\n                          chargeTotal\\n                        }\\n                        exclusive {\\n                          crossedOut\\n                          channelSaving {\\n                            amount\\n                          }\\n                          totalSaving {\\n                            amount\\n                          }\\n                          original\\n                          chargeTotal\\n                        }\\n                      }\\n                      differential {\\n                        allInclusive {\\n                          chargeTotal\\n                        }\\n                        exclusive {\\n                          chargeTotal\\n                        }\\n                      }\\n                    }\\n                  }\\n                }\\n              }\\n              pricing {\\n                currency\\n                price {\\n                  perNight {\\n                    exclusive {\\n                      display\\n                      cashbackPrice\\n                      displayAfterCashback\\n                      originalPrice\\n                    }\\n                    inclusive {\\n                      display\\n                      cashbackPrice\\n                      displayAfterCashback\\n                      originalPrice\\n                    }\\n                  }\\n                  perBook {\\n                    exclusive {\\n                      display\\n                      cashbackPrice\\n                      displayAfterCashback\\n                      rebatePrice\\n                      originalPrice\\n                      autoAppliedPromoDiscount\\n                    }\\n                    inclusive {\\n                      display\\n                      cashbackPrice\\n                      displayAfterCashback\\n                      rebatePrice\\n                      originalPrice\\n                      autoAppliedPromoDiscount\\n                    }\\n                  }\\n                  perRoomPerNight {\\n                    exclusive {\\n                      display\\n                      crossedOutPrice\\n                      cashbackPrice\\n                      displayAfterCashback\\n                      rebatePrice\\n                      pseudoCouponPrice\\n                      originalPrice\\n                    }\\n                    inclusive {\\n                      display\\n                      crossedOutPrice\\n                      cashbackPrice\\n                      displayAfterCashback\\n                      rebatePrice\\n                      pseudoCouponPrice\\n                      originalPrice\\n                    }\\n                  }\\n                  totalDiscount\\n                  priceAfterAppliedAgodaCash {\\n                    perBook {\\n                      ...Fragfj0g1f4c8j1be22fi7cg\\n                    }\\n                    perRoomPerNight {\\n                      ...Fragfj0g1f4c8j1be22fi7cg\\n                    }\\n                  }\\n                }\\n                apsPeek {\\n                  perRoomPerNight {\\n                    ...Fragbe55d6042d652b58bcad\\n                  }\\n                }\\n                promotionPricePeek {\\n                  display {\\n                    perBook {\\n                      ...Fragbe55d6042d652b58bcad\\n                    }\\n                    perRoomPerNight {\\n                      ...Fragbe55d6042d652b58bcad\\n                    }\\n                    perNight {\\n                      ...Fragbe55d6042d652b58bcad\\n                    }\\n                  }\\n                  discountType\\n                  promotionCodeType\\n                  promotionCode\\n                  promoAppliedOnFinalPrice\\n                  childPromotions {\\n                    campaignId\\n                  }\\n                  campaignName\\n                }\\n                channelDiscountSummary {\\n                  channelDiscountBreakdown {\\n                    display\\n                    discountPercent\\n                    channelId\\n                  }\\n                }\\n              }\\n              uid\\n              payment {\\n                paymentModel\\n                cancellation {\\n                  cancellationType\\n                }\\n              }\\n              discount {\\n                deals\\n                channelDiscount\\n              }\\n              saveUpTo {\\n                perRoomPerNight\\n              }\\n              benefits {\\n                id\\n                targetType\\n              }\\n              channel {\\n                id\\n              }\\n              mseRoomSummaries {\\n                supplierId\\n                subSupplierId\\n                pricingSummaries {\\n                  currency\\n                  channelDiscountSummary {\\n                    channelDiscountBreakdown {\\n                      channelId\\n                      discountPercent\\n                      display\\n                    }\\n                  }\\n                  price {\\n                    perRoomPerNight {\\n                      exclusive {\\n                        display\\n                      }\\n                      inclusive {\\n                        display\\n                      }\\n                    }\\n                  }\\n                }\\n              }\\n              cashback {\\n                cashbackGuid\\n                showPostCashbackPrice\\n                percentage\\n                earnId\\n                dayToEarn\\n                expiryDay\\n              }\\n              agodaCash {\\n                showBadge\\n                giftcardGuid\\n                dayToEarn\\n                expiryDay\\n                percentage\\n              }\\n              corInfo {\\n                corInfo {\\n                  corType\\n                }\\n              }\\n              loyaltyDisplay {\\n                items\\n              }\\n              capacity {\\n                extraBedsAvailable\\n              }\\n              pricingMessages {\\n                formatted {\\n                  location\\n                  texts {\\n                    index\\n                    text\\n                  }\\n                }\\n              }\\n              campaign {\\n                selected {\\n                  messages {\\n                    campaignName\\n                    title\\n                    titleWithDiscount\\n                    description\\n                    linkOutText\\n                    url\\n                  }\\n                }\\n              }\\n            }\\n          }\\n        }\\n      }\\n      metaLab {\\n        attributes {\\n          attributeId\\n          dataType\\n          value\\n          version\\n        }\\n      }\\n      enrichment {\\n        topSellingPoint {\\n          tspType\\n          value\\n        }\\n        pricingBadges {\\n          badges\\n        }\\n        uniqueSellingPoint {\\n          rank\\n          segment\\n          uspType\\n          uspPropertyType\\n        }\\n        bookingHistory {\\n          bookingCount {\\n            count\\n            timeFrame\\n          }\\n        }\\n        showReviewSnippet\\n        isPopular\\n        roomInformation {\\n          cheapestRoomSizeSqm\\n          facilities {\\n            id\\n            propertyFacilityName\\n            symbol\\n          }\\n        }\\n      }\\n      priceBreakerProperties {\\n        propertyId\\n        content {\\n          informationSummary {\\n            displayName\\n            rating\\n            propertyLinks {\\n              propertyPage\\n            }\\n            address {\\n              area {\\n                name\\n              }\\n              city {\\n                name\\n              }\\n            }\\n          }\\n          highlight {\\n            cityCenter {\\n              distanceFromCityCenter\\n              isInsideCityCenter\\n            }\\n          }\\n          reviews {\\n            contentReview {\\n              summaries {\\n                snippets {\\n                  countryId\\n                  countryCode\\n                  countryName\\n                  date\\n                  demographicId\\n                  demographicName\\n                  reviewer\\n                  reviewRating\\n                  snippet\\n                }\\n              }\\n            }\\n            cumulative {\\n              score\\n              reviewCount\\n            }\\n          }\\n          images {\\n            hotelImages {\\n              id\\n              caption\\n              providerId\\n              urls {\\n                key\\n                value\\n              }\\n            }\\n          }\\n        }\\n        pricing {\\n          isReady\\n          isAvailable\\n          offers {\\n            roomOffers {\\n              room {\\n                uid\\n                pricing {\\n                  currency\\n                  price {\\n                    perRoomPerNight {\\n                      exclusive {\\n                        crossedOutPrice\\n                        display\\n                      }\\n                      inclusive {\\n                        crossedOutPrice\\n                        display\\n                      }\\n                    }\\n                  }\\n                }\\n              }\\n            }\\n          }\\n        }\\n      }\\n    }\\n    searchEnrichment {\\n      suppliersInformation {\\n        supplierId\\n        supplierName\\n        isAgodaBand\\n      }\\n    }\\n    aggregation {\\n      matrixGroupResults {\\n        matrixGroup\\n        matrixItemResults {\\n          id\\n          name\\n          count\\n          filterKey\\n          filterRequestType\\n          extraDataResults {\\n            text\\n            matrixExtraDataType\\n          }\\n        }\\n      }\\n    }\\n  }\\n}\\n\\nfragment Fragfj0g1f4c8j1be22fi7cg on DisplayPrice {\\n  exclusive\\n  allInclusive\\n}\\n\\nfragment Fragbe55d6042d652b58bcad on DFDisplayPrice {\\n  exclusive\\n  allInclusive\\n}\\n"}'
            # data = '{"operationName":"areaSearch","variables":{"AreaSearchRequest":{"cityId":88779,"areaId":281036,"searchRequest":{"searchCriteria":{"isAllowBookOnRequest":true,"bookingDate":"2021-12-24T10:18:12.010Z","checkInDate":"2022-01-19T17:00:00.000Z","localCheckInDate":"2022-01-20","los":1,"rooms":1,"adults":2,"children":0,"childAges":[],"ratePlans":[],"featureFlagRequest":{"fetchNamesForTealium":true,"fiveStarDealOfTheDay":true,"isAllowBookOnRequest":false,"showUnAvailable":true,"showRemainingProperties":true,"isMultiHotelSearch":false,"enableAgencySupplyForPackages":true,"flags":[{"feature":"FamilyChildFriendlyPopularFilter","enable":true},{"feature":"FamilyChildFriendlyPropertyTypeFilter","enable":true},{"feature":"FamilyMode","enable":false}],"enablePriceBreaker":false,"enablePageToken":false},"isUserLoggedIn":false,"currency":"IDR","travellerType":"Couple","isAPSPeek":false,"enableOpaqueChannel":false,"isEnabledPartnerChannelSelection":null,"sorting":{"sortField":"Ranking","sortOrder":"Desc","sortParams":null},"requiredBasis":"PRPN","requiredPrice":"Exclusive","suggestionLimit":0,"synchronous":false,"supplierPullMetadataRequest":null,"isRoomSuggestionRequested":false,"isAPORequest":false,"hasAPOFilter":false},"searchContext":{"userId":"9d229ec9-a7b9-41fd-86dd-415e6797a3ca","memberId":0,"locale":"en-us","cid":1844104,"origin":"ID","platform":1,"deviceTypeId":1,"experiments":{"forceByVariant":null,"forceByExperiment":[{"id":"FAM-366","variant":"B"},{"id":"DRAGON-2308","variant":"B"},{"id":"MIN-13903-2","variant":"B"},{"id":"MIN-14036","variant":"B"},{"id":"UMRAH-B2B","variant":"B"},{"id":"UMRAH-B2C-REGIONAL","variant":"B"},{"id":"UMRAH-B2C","variant":"Z"},{"id":"JGCW-202","variant":"B"},{"id":"JGCW-204","variant":"B"},{"id":"JGCW-264","variant":"B"},{"id":"JGCW-299","variant":"B"},{"id":"JGCW-159","variant":"B"},{"id":"FD-3936","variant":"B"}]},"isRetry":false,"showCMS":false,"storeFrontId":3,"pageTypeId":103,"whiteLabelKey":null,"ipAddress":"125.161.118.133","endpointSearchType":"CitySearch","trackSteps":null},"matrix":null,"matrixGroup":[{"matrixGroup":"NumberOfBedrooms","size":100},{"matrixGroup":"AllGuestReviewBreakdown","size":100},{"matrixGroup":"BusStationLandmarkIds","size":20},{"matrixGroup":"GroupedBedTypes","size":100},{"matrixGroup":"RoomBenefits","size":100},{"matrixGroup":"RoomAmenities","size":100},{"matrixGroup":"AffordableCategory","size":100},{"matrixGroup":"HotelFacilities","size":100},{"matrixGroup":"BeachAccessTypeIds","size":100},{"matrixGroup":"StarRating","size":20},{"matrixGroup":"MetroSubwayStationLandmarkIds","size":20},{"matrixGroup":"CityCenterDistance","size":100},{"matrixGroup":"ProductType","size":100},{"matrixGroup":"ReviewLocationScore","size":3},{"matrixGroup":"LandmarkSubTypeCategoryIds","size":20},{"matrixGroup":"ReviewScore","size":100},{"matrixGroup":"IsStaycation","size":5},{"matrixGroup":"AccommodationType","size":100},{"matrixGroup":"PaymentOptions","size":100},{"matrixGroup":"TrainStationLandmarkIds","size":20},{"matrixGroup":"HotelChainId","size":10},{"matrixGroup":"RecommendedByDestinationCity","size":10},{"matrixGroup":"Deals","size":100}],"filterRequest":{"idsFilters":[],"rangeFilters":[],"textFilters":[]},"page":{"pageSize":45,"pageNumber":1,"pageToken":""},"apoRequest":{"apoPageSize":10},"searchHistory":[{"objectId":10470,"searchDate":"2021-12-15","searchType":"PropertySearch","childrenAges":[]},{"objectId":529150,"searchDate":"2021-12-15","searchType":"PropertySearch","childrenAges":[]},{"objectId":4762,"searchDate":"2021-12-16","searchType":"PropertySearch","childrenAges":[]},{"objectId":546169,"searchDate":"2021-12-20","searchType":"PropertySearch","childrenAges":[]},{"objectId":338317,"searchDate":"2021-12-20","searchType":"PropertySearch","childrenAges":[]},{"objectId":12426098,"searchDate":"2021-12-20","searchType":"PropertySearch","childrenAges":[]},{"objectId":43471,"searchDate":"2021-12-20","searchType":"PropertySearch","childrenAges":[]},{"objectId":338317,"searchDate":"2021-12-20","searchType":"PropertySearch","childrenAges":[]},{"objectId":13875957,"searchDate":"2021-12-20","searchType":"PropertySearch","childrenAges":[]},{"objectId":44617,"searchDate":"2021-12-21","searchType":"PropertySearch","childrenAges":[]},{"objectId":12423971,"searchDate":"2021-12-24","searchType":"PropertySearch","childrenAges":[]},{"objectId":10442,"searchDate":"2021-12-24","searchType":"PropertySearch","childrenAges":[]},{"objectId":546198,"searchDate":"2021-12-24","searchType":"PropertySearch","childrenAges":[]},{"objectId":15857251,"searchDate":"2021-12-24","searchType":"PropertySearch","childrenAges":[]},{"objectId":8665829,"searchDate":"2021-12-24","searchType":"PropertySearch","childrenAges":[]},{"objectId":16072732,"searchDate":"2021-12-24","searchType":"PropertySearch","childrenAges":[]},{"objectId":29458541,"searchDate":"2021-12-24","searchType":"PropertySearch","childrenAges":[]}],"searchDetailRequest":{"priceHistogramBins":50},"isTrimmedResponseRequested":false,"featuredAgodaHomesRequest":null,"featuredLuxuryHotelsRequest":null,"highlyRatedAgodaHomesRequest":{"numberOfAgodaHomes":30,"minimumReviewScore":7.5,"minimumReviewCount":3,"accommodationTypes":[28,29,30,102,103,106,107,108,109,110,114,115,120,131],"sortVersion":0},"extraAgodaHomesRequest":null,"extraHotels":{"extraHotelIds":[],"enableFiltersForExtraHotels":false},"packaging":null,"flexibleSearchRequest":{"fromDate":"2021-12-24","toDate":"2022-02-19","alternativeDateSize":4}}},"ContentSummaryRequest":{"context":{"rawUserId":"9d229ec9-a7b9-41fd-86dd-415e6797a3ca","memberId":0,"userOrigin":"ID","locale":"en-us","forceExperimentsByIdNew":[{"key":"FAM-366","value":"B"},{"key":"DRAGON-2308","value":"B"},{"key":"MIN-13903-2","value":"B"},{"key":"MIN-14036","value":"B"},{"key":"UMRAH-B2B","value":"B"},{"key":"UMRAH-B2C-REGIONAL","value":"B"},{"key":"UMRAH-B2C","value":"Z"},{"key":"JGCW-202","value":"B"},{"key":"JGCW-204","value":"B"},{"key":"JGCW-264","value":"B"},{"key":"JGCW-299","value":"B"},{"key":"JGCW-159","value":"B"},{"key":"FD-3936","value":"B"}],"apo":false,"searchCriteria":{"cityId":88779},"platform":{"id":1},"storeFrontId":3,"cid":"1844104","occupancy":{"numberOfAdults":2,"numberOfChildren":0,"travelerType":1},"deviceTypeId":1,"whiteLabelKey":"","correlationId":""},"summary":{"highlightedFeaturesOrderPriority":null,"description":false},"reviews":{"commentary":null,"demographics":{"providerIds":null,"filter":{"defaultProviderOnly":true}},"summaries":{"providerIds":null,"apo":true,"limit":1,"travellerType":2},"cumulative":{"providerIds":null},"filters":null},"images":{"page":null,"maxWidth":0,"maxHeight":0,"imageSizes":null,"indexOffset":null},"rooms":{"images":null,"featureLimit":0,"filterCriteria":null,"includeMissing":false,"includeSoldOut":false,"includeDmcRoomId":false,"soldOutRoomCriteria":null,"showRoomSize":true,"showRoomFacilities":true},"nonHotelAccommodation":true,"engagement":true,"highlights":{"maxNumberOfItems":0,"images":{"imageSizes":[{"key":"full","size":{"width":0,"height":0}}]}},"personalizedInformation":false,"localInformation":{"images":null},"features":null,"rateCategories":true,"contentRateCategories":{"escapeRateCategories":{}},"synopsis":true},"PricingSummaryRequest":{"cheapestOnly":true,"context":{"isAllowBookOnRequest":true,"abTests":[{"testId":9021,"abUser":"B"},{"testId":9023,"abUser":"B"},{"testId":9024,"abUser":"B"},{"testId":9025,"abUser":"B"},{"testId":9027,"abUser":"B"},{"testId":9029,"abUser":"B"}],"clientInfo":{"cid":1844104,"languageId":1,"languageUse":1,"origin":"ID","platform":1,"searchId":"","storefront":3,"userId":"9d229ec9-a7b9-41fd-86dd-415e6797a3ca","ipAddress":"125.161.118.133"},"experiment":[{"name":"FAM-366","variant":"B"},{"name":"DRAGON-2308","variant":"B"},{"name":"MIN-13903-2","variant":"B"},{"name":"MIN-14036","variant":"B"},{"name":"UMRAH-B2B","variant":"B"},{"name":"UMRAH-B2C-REGIONAL","variant":"B"},{"name":"UMRAH-B2C","variant":"Z"},{"name":"JGCW-202","variant":"B"},{"name":"JGCW-204","variant":"B"},{"name":"JGCW-264","variant":"B"},{"name":"JGCW-299","variant":"B"},{"name":"JGCW-159","variant":"B"},{"name":"FD-3936","variant":"B"}],"isDebug":false,"sessionInfo":{"isLogin":false,"memberId":0,"sessionId":1},"packaging":null},"isSSR":true,"pricing":{"bookingDate":"2021-12-24T10:18:11.967Z","checkIn":"2022-01-19T17:00:00.000Z","checkout":"2022-01-20T17:00:00.000Z","localCheckInDate":"2022-01-20","localCheckoutDate":"2022-01-21","currency":"IDR","details":{"cheapestPriceOnly":false,"itemBreakdown":false,"priceBreakdown":false},"featureFlag":["ClientDiscount","PriceHistory","VipPlatinum","CouponSellEx","MixAndSave","APSPeek","StackChannelDiscount","AutoApplyPromos","EnableAgencySupplyForPackages","EnableCashback","CreditCardPromotionPeek"],"features":{"crossOutRate":false,"isAPSPeek":false,"isAllOcc":false,"isApsEnabled":false,"isIncludeUsdAndLocalCurrency":false,"isMSE":true,"isRPM2Included":true,"maxSuggestions":0,"newRateModel":false,"overrideOccupancy":false,"filterCheapestRoomEscapesPackage":false,"priusId":0,"synchronous":false,"enableRichContentOffer":true,"showCouponAmountInUserCurrency":false,"disableEscapesPackage":false},"filters":{"cheapestRoomFilters":[],"filterAPO":false,"ratePlans":[1],"secretDealOnly":false,"suppliers":[],"nosOfBedrooms":[]},"includedPriceInfo":false,"occupancy":{"adults":2,"children":0,"childAges":[],"rooms":1,"childrenTypes":[]},"supplierPullMetadata":{"requiredPrecheckAccuracyLevel":0},"mseHotelIds":[],"ppLandingHotelIds":[],"searchedHotelIds":[],"paymentId":-1},"suggestedPrice":"Exclusive"},"PriceStreamMetaLabRequest":{"attributesId":[8,1,18,7,11,2,3]}},"query":"query areaSearch($AreaSearchRequest: AreaSearchRequest!, $ContentSummaryRequest: ContentSummaryRequest!, $PricingSummaryRequest: PricingRequestParameters, $PriceStreamMetaLabRequest: PriceStreamMetaLabRequest) {\\n  areaSearch(AreaSearchRequest: $AreaSearchRequest) {\\n    searchResult {\\n      sortMatrix {\\n        result {\\n          fieldId\\n          sorting {\\n            sortField\\n            sortOrder\\n            sortParams {\\n              id\\n            }\\n          }\\n          display {\\n            name\\n          }\\n          childMatrix {\\n            fieldId\\n            sorting {\\n              sortField\\n              sortOrder\\n              sortParams {\\n                id\\n              }\\n            }\\n            display {\\n              name\\n            }\\n            childMatrix {\\n              fieldId\\n              sorting {\\n                sortField\\n                sortOrder\\n                sortParams {\\n                  id\\n                }\\n              }\\n              display {\\n                name\\n              }\\n            }\\n          }\\n        }\\n      }\\n      searchInfo {\\n        flexibleSearch {\\n          currentDate {\\n            checkIn\\n            price\\n          }\\n          alternativeDates {\\n            checkIn\\n            price\\n          }\\n        }\\n        hasSecretDeal\\n        isComplete\\n        totalFilteredHotels\\n        hasEscapesPackage\\n        searchStatus {\\n          searchCriteria {\\n            checkIn\\n          }\\n          searchStatus\\n        }\\n        objectInfo {\\n          objectName\\n          cityName\\n          cityEnglishName\\n          countryId\\n          countryEnglishName\\n          mapLatitude\\n          mapLongitude\\n          mapZoomLevel\\n          wlPreferredCityName\\n          wlPreferredCountryName\\n          cityId\\n          cityCenterPolygon {\\n            geoPoints {\\n              lon\\n              lat\\n            }\\n            touristAreaCenterPoint {\\n              lon\\n              lat\\n            }\\n          }\\n        }\\n      }\\n      urgencyDetail {\\n        urgencyScore\\n      }\\n      histogram {\\n        bins {\\n          numOfElements\\n          upperBound {\\n            perNightPerRoom\\n            perPax\\n          }\\n        }\\n      }\\n      nhaProbability\\n    }\\n    properties(ContentSummaryRequest: $ContentSummaryRequest, PricingSummaryRequest: $PricingSummaryRequest, PriceStreamMetaLabRequest: $PriceStreamMetaLabRequest) {\\n      propertyId\\n      sponsoredDetail {\\n        sponsoredType\\n        trackingData\\n        isShowSponsoredFlag\\n      }\\n      propertyResultType\\n      content {\\n        informationSummary {\\n          propertyLinks {\\n            propertyPage\\n          }\\n          atmospheres {\\n            id\\n            name\\n          }\\n          localeName\\n          defaultName\\n          displayName\\n          accommodationType\\n          awardYear\\n          hasHostExperience\\n          address {\\n            countryCode\\n            country {\\n              id\\n              name\\n            }\\n            city {\\n              id\\n              name\\n            }\\n            area {\\n              id\\n              name\\n            }\\n          }\\n          propertyType\\n          rating\\n          agodaGuaranteeProgram\\n          remarks {\\n            renovationInfo {\\n              renovationType\\n              year\\n            }\\n          }\\n          spokenLanguages {\\n            id\\n          }\\n          geoInfo {\\n            latitude\\n            longitude\\n          }\\n        }\\n        propertyEngagement {\\n          lastBooking\\n          peopleLooking\\n        }\\n        nonHotelAccommodation {\\n          masterRooms {\\n            noOfBathrooms\\n            noOfBedrooms\\n            noOfBeds\\n            roomSizeSqm\\n            highlightedFacilities\\n          }\\n          hostLevel {\\n            id\\n            name\\n          }\\n          supportedLongStay\\n        }\\n        facilities {\\n          id\\n        }\\n        images {\\n          hotelImages {\\n            id\\n            caption\\n            providerId\\n            urls {\\n              key\\n              value\\n            }\\n          }\\n        }\\n        reviews {\\n          contentReview {\\n            isDefault\\n            providerId\\n            demographics {\\n              groups {\\n                id\\n                grades {\\n                  id\\n                  score\\n                }\\n              }\\n            }\\n            summaries {\\n              recommendationScores {\\n                recommendationScore\\n              }\\n              snippets {\\n                countryId\\n                countryCode\\n                countryName\\n                date\\n                demographicId\\n                demographicName\\n                reviewer\\n                reviewRating\\n                snippet\\n              }\\n            }\\n            cumulative {\\n              reviewCount\\n              score\\n            }\\n          }\\n          cumulative {\\n            reviewCount\\n            score\\n          }\\n        }\\n        familyFeatures {\\n          hasChildrenFreePolicy\\n          isFamilyRoom\\n          hasMoreThanOneBedroom\\n          isInterConnectingRoom\\n          isInfantCottageAvailable\\n          hasKidsPool\\n          hasKidsClub\\n        }\\n        personalizedInformation {\\n          childrenFreePolicy {\\n            fromAge\\n            toAge\\n          }\\n        }\\n        localInformation {\\n          landmarks {\\n            transportation {\\n              landmarkName\\n              distanceInM\\n            }\\n            topLandmark {\\n              landmarkName\\n              distanceInM\\n            }\\n            beach {\\n              landmarkName\\n              distanceInM\\n            }\\n          }\\n          hasAirportTransfer\\n        }\\n        highlight {\\n          cityCenter {\\n            distanceFromCityCenter\\n          }\\n          favoriteFeatures {\\n            features {\\n              id\\n              title\\n              category\\n            }\\n          }\\n          hasNearbyPublicTransportation\\n        }\\n        rateCategories {\\n          escapeRateCategories {\\n            rateCategoryId\\n            localizedRateCategoryName\\n          }\\n        }\\n      }\\n      soldOut {\\n        soldOutPrice {\\n          averagePrice\\n        }\\n      }\\n      pricing {\\n        pulseCampaignMetadata {\\n          promotionTypeId\\n          webCampaignId\\n          campaignTypeId\\n          campaignBadgeText\\n          campaignBadgeDescText\\n        }\\n        isAvailable\\n        isReady\\n        benefits\\n        cheapestRoomOffer {\\n          agodaCash {\\n            showBadge\\n            giftcardGuid\\n            dayToEarn\\n            earnId\\n            percentage\\n            expiryDay\\n          }\\n          cashback {\\n            cashbackGuid\\n            showPostCashbackPrice\\n            percentage\\n            earnId\\n            dayToEarn\\n            expiryDay\\n          }\\n        }\\n        isEasyCancel\\n        isInsiderDeal\\n        isMultiHotelEligible\\n        suggestPriceType {\\n          suggestPrice\\n        }\\n        roomBundle {\\n          bundleId\\n          bundleType\\n          saveAmount {\\n            perNight {\\n              ...Fraga6e0fc7a6b237c79df90\\n            }\\n          }\\n        }\\n        pointmax {\\n          channelId\\n          point\\n        }\\n        priceChange {\\n          changePercentage\\n          searchDate\\n        }\\n        payment {\\n          cancellation {\\n            cancellationType\\n            freeCancellationDate\\n          }\\n          payLater {\\n            isEligible\\n          }\\n          payAtHotel {\\n            isEligible\\n          }\\n          noCreditCard {\\n            isEligible\\n          }\\n          taxReceipt {\\n            isEligible\\n          }\\n        }\\n        cheapestStayPackageRatePlans {\\n          stayPackageType\\n          ratePlanId\\n        }\\n        pricingMessages {\\n          location\\n          ids\\n        }\\n        suppliersSummaries {\\n          id\\n          supplierHotelId\\n        }\\n        supplierInfo {\\n          id\\n          name\\n          isAgodaBand\\n        }\\n        offers {\\n          roomOffers {\\n            room {\\n              availableRooms\\n              isPromoEligible\\n              promotions {\\n                typeId\\n                promotionDiscount {\\n                  value\\n                }\\n              }\\n              supplierId\\n              corSummary {\\n                hasCor\\n                corType\\n                isOriginal\\n                hasOwnCOR\\n                isBlacklistedCor\\n              }\\n              localVoucher {\\n                currencyCode\\n                amount\\n              }\\n              pricing {\\n                currency\\n                price {\\n                  perNight {\\n                    exclusive {\\n                      display\\n                      cashbackPrice\\n                      displayAfterCashback\\n                      originalPrice\\n                    }\\n                    inclusive {\\n                      display\\n                      cashbackPrice\\n                      displayAfterCashback\\n                      originalPrice\\n                    }\\n                  }\\n                  perBook {\\n                    exclusive {\\n                      display\\n                      cashbackPrice\\n                      displayAfterCashback\\n                      rebatePrice\\n                      originalPrice\\n                      autoAppliedPromoDiscount\\n                    }\\n                    inclusive {\\n                      display\\n                      cashbackPrice\\n                      displayAfterCashback\\n                      rebatePrice\\n                      originalPrice\\n                      autoAppliedPromoDiscount\\n                    }\\n                  }\\n                  perRoomPerNight {\\n                    exclusive {\\n                      display\\n                      crossedOutPrice\\n                      cashbackPrice\\n                      displayAfterCashback\\n                      rebatePrice\\n                      pseudoCouponPrice\\n                      originalPrice\\n                    }\\n                    inclusive {\\n                      display\\n                      crossedOutPrice\\n                      cashbackPrice\\n                      displayAfterCashback\\n                      rebatePrice\\n                      pseudoCouponPrice\\n                      originalPrice\\n                    }\\n                  }\\n                  totalDiscount\\n                  priceAfterAppliedAgodaCash {\\n                    perBook {\\n                      ...Frag818e8514h0h3h8j64d6b\\n                    }\\n                    perRoomPerNight {\\n                      ...Frag818e8514h0h3h8j64d6b\\n                    }\\n                  }\\n                }\\n                apsPeek {\\n                  perRoomPerNight {\\n                    ...Fraga6e0fc7a6b237c79df90\\n                  }\\n                }\\n                promotionPricePeek {\\n                  display {\\n                    perBook {\\n                      ...Fraga6e0fc7a6b237c79df90\\n                    }\\n                    perRoomPerNight {\\n                      ...Fraga6e0fc7a6b237c79df90\\n                    }\\n                    perNight {\\n                      ...Fraga6e0fc7a6b237c79df90\\n                    }\\n                  }\\n                  discountType\\n                  promotionCodeType\\n                  promotionCode\\n                  promoAppliedOnFinalPrice\\n                  childPromotions {\\n                    campaignId\\n                  }\\n                  campaignName\\n                }\\n                channelDiscountSummary {\\n                  channelDiscountBreakdown {\\n                    display\\n                    discountPercent\\n                    channelId\\n                  }\\n                }\\n              }\\n              uid\\n              payment {\\n                cancellation {\\n                  cancellationType\\n                }\\n              }\\n              discount {\\n                deals\\n                channelDiscount\\n              }\\n              saveUpTo {\\n                perRoomPerNight\\n              }\\n              benefits {\\n                id\\n                targetType\\n              }\\n              channel {\\n                id\\n              }\\n              mseRoomSummaries {\\n                supplierId\\n                subSupplierId\\n                pricingSummaries {\\n                  currency\\n                  channelDiscountSummary {\\n                    channelDiscountBreakdown {\\n                      channelId\\n                      discountPercent\\n                      display\\n                    }\\n                  }\\n                  price {\\n                    perRoomPerNight {\\n                      exclusive {\\n                        display\\n                      }\\n                      inclusive {\\n                        display\\n                      }\\n                    }\\n                  }\\n                }\\n              }\\n              cashback {\\n                cashbackGuid\\n                showPostCashbackPrice\\n                percentage\\n                earnId\\n                dayToEarn\\n                expiryDay\\n              }\\n              agodaCash {\\n                showBadge\\n                giftcardGuid\\n                dayToEarn\\n                expiryDay\\n                percentage\\n              }\\n              corInfo {\\n                corBreakdown {\\n                  taxExPN {\\n                    ...Fragf1iag5c9hde4ehg533ca\\n                  }\\n                  taxInPN {\\n                    ...Fragf1iag5c9hde4ehg533ca\\n                  }\\n                  taxExPRPN {\\n                    ...Fragf1iag5c9hde4ehg533ca\\n                  }\\n                  taxInPRPN {\\n                    ...Fragf1iag5c9hde4ehg533ca\\n                  }\\n                }\\n                corInfo {\\n                  corType\\n                }\\n              }\\n              loyaltyDisplay {\\n                items\\n              }\\n              capacity {\\n                extraBedsAvailable\\n              }\\n              pricingMessages {\\n                formatted {\\n                  location\\n                  texts {\\n                    index\\n                    text\\n                  }\\n                }\\n              }\\n              campaign {\\n                selected {\\n                  messages {\\n                    campaignName\\n                    title\\n                    titleWithDiscount\\n                    description\\n                    linkOutText\\n                    url\\n                  }\\n                }\\n              }\\n            }\\n          }\\n        }\\n      }\\n      metaLab {\\n        attributes {\\n          attributeId\\n          dataType\\n          value\\n          version\\n        }\\n      }\\n      enrichment {\\n        topSellingPoint {\\n          tspType\\n          value\\n        }\\n        pricingBadges {\\n          badges\\n        }\\n        uniqueSellingPoint {\\n          rank\\n          segment\\n          uspType\\n          uspPropertyType\\n        }\\n        bookingHistory {\\n          bookingCount {\\n            count\\n            timeFrame\\n          }\\n        }\\n        showReviewSnippet\\n        isPopular\\n        roomInformation {\\n          cheapestRoomSizeSqm\\n          facilities {\\n            id\\n            propertyFacilityName\\n            symbol\\n          }\\n        }\\n      }\\n      priceBreakerProperties {\\n        propertyId\\n        content {\\n          informationSummary {\\n            displayName\\n            rating\\n            propertyLinks {\\n              propertyPage\\n            }\\n            address {\\n              area {\\n                name\\n              }\\n              city {\\n                name\\n              }\\n            }\\n          }\\n          highlight {\\n            cityCenter {\\n              distanceFromCityCenter\\n              isInsideCityCenter\\n            }\\n          }\\n          reviews {\\n            contentReview {\\n              summaries {\\n                snippets {\\n                  countryId\\n                  countryCode\\n                  countryName\\n                  date\\n                  demographicId\\n                  demographicName\\n                  reviewer\\n                  reviewRating\\n                  snippet\\n                }\\n              }\\n            }\\n            cumulative {\\n              score\\n              reviewCount\\n            }\\n          }\\n          images {\\n            hotelImages {\\n              id\\n              caption\\n              providerId\\n              urls {\\n                key\\n                value\\n              }\\n            }\\n          }\\n        }\\n        pricing {\\n          isReady\\n          isAvailable\\n          offers {\\n            roomOffers {\\n              room {\\n                uid\\n                pricing {\\n                  currency\\n                  price {\\n                    perRoomPerNight {\\n                      exclusive {\\n                        crossedOutPrice\\n                        display\\n                      }\\n                      inclusive {\\n                        crossedOutPrice\\n                        display\\n                      }\\n                    }\\n                  }\\n                }\\n              }\\n            }\\n          }\\n        }\\n      }\\n    }\\n    searchEnrichment {\\n      suppliersInformation {\\n        supplierId\\n        supplierName\\n        isAgodaBand\\n      }\\n    }\\n    aggregation {\\n      matrixGroupResults {\\n        matrixGroup\\n        matrixItemResults {\\n          id\\n          name\\n          count\\n          filterKey\\n          filterRequestType\\n          extraDataResults {\\n            text\\n            matrixExtraDataType\\n          }\\n        }\\n      }\\n    }\\n  }\\n}\\n\\nfragment Frag818e8514h0h3h8j64d6b on DisplayPrice {\\n  exclusive\\n  allInclusive\\n}\\n\\nfragment Fraga6e0fc7a6b237c79df90 on DFDisplayPrice {\\n  exclusive\\n  allInclusive\\n}\\n\\nfragment Fragf1iag5c9hde4ehg533ca on DFCorBreakdownItem {\\n  price\\n  id\\n}\\n"}'

            data = '{"operationName":"areaSearch","variables":{"AreaSearchRequest":{"cityId":%s,"areaId":%s,"searchRequest":{"searchCriteria":{"isAllowBookOnRequest":true,"bookingDate":"2021-12-20T06:17:47.247Z","checkInDate":"2021-12-21T17:00:00.000Z","localCheckInDate":"2021-12-22","los":1,"rooms":1,"adults":2,"children":0,"childAges":[],"ratePlans":[],"featureFlagRequest":{"fetchNamesForTealium":true,"fiveStarDealOfTheDay":true,"isAllowBookOnRequest":false,"showUnAvailable":true,"showRemainingProperties":true,"isMultiHotelSearch":false,"enableAgencySupplyForPackages":true,"flags":[{"feature":"FamilyChildFriendlyPopularFilter","enable":true},{"feature":"FamilyChildFriendlyPropertyTypeFilter","enable":true},{"feature":"FamilyMode","enable":false}],"enablePriceBreaker":false,"enablePageToken":false},"isUserLoggedIn":false,"currency":"IDR","travellerType":"Couple","isAPSPeek":false,"enableOpaqueChannel":false,"isEnabledPartnerChannelSelection":null,"sorting":{"sortField":"Ranking","sortOrder":"Desc","sortParams":null},"requiredBasis":"PRPN","requiredPrice":"Exclusive","suggestionLimit":0,"synchronous":false,"supplierPullMetadataRequest":null,"isRoomSuggestionRequested":false,"isAPORequest":false,"hasAPOFilter":false},"searchContext":{"userId":"9d229ec9-a7b9-41fd-86dd-415e6797a3ca","memberId":0,"locale":"en-us","cid":1844104,"origin":"ID","platform":1,"deviceTypeId":1,"experiments":{"forceByVariant":null,"forceByExperiment":[{"id":"FAM-366","variant":"B"},{"id":"DRAGON-2308","variant":"B"},{"id":"MIN-13903-2","variant":"B"},{"id":"MIN-14036","variant":"B"},{"id":"UMRAH-B2B","variant":"B"},{"id":"UMRAH-B2C-REGIONAL","variant":"B"},{"id":"UMRAH-B2C","variant":"Z"},{"id":"JGCW-202","variant":"B"},{"id":"JGCW-204","variant":"B"},{"id":"JGCW-264","variant":"B"},{"id":"JGCW-299","variant":"B"},{"id":"JGCW-159","variant":"B"},{"id":"FD-3936","variant":"B"}]},"isRetry":false,"showCMS":false,"storeFrontId":3,"pageTypeId":103,"whiteLabelKey":null,"ipAddress":"110.137.195.241","endpointSearchType":"CitySearch","trackSteps":null},"matrix":null,"matrixGroup":[{"matrixGroup":"NumberOfBedrooms","size":100},{"matrixGroup":"AllGuestReviewBreakdown","size":100},{"matrixGroup":"BusStationLandmarkIds","size":20},{"matrixGroup":"GroupedBedTypes","size":100},{"matrixGroup":"RoomBenefits","size":100},{"matrixGroup":"RoomAmenities","size":100},{"matrixGroup":"AffordableCategory","size":100},{"matrixGroup":"HotelFacilities","size":100},{"matrixGroup":"BeachAccessTypeIds","size":100},{"matrixGroup":"StarRating","size":20},{"matrixGroup":"MetroSubwayStationLandmarkIds","size":20},{"matrixGroup":"CityCenterDistance","size":100},{"matrixGroup":"ProductType","size":100},{"matrixGroup":"ReviewLocationScore","size":3},{"matrixGroup":"LandmarkSubTypeCategoryIds","size":20},{"matrixGroup":"ReviewScore","size":100},{"matrixGroup":"IsStaycation","size":5},{"matrixGroup":"AccommodationType","size":100},{"matrixGroup":"PaymentOptions","size":100},{"matrixGroup":"TrainStationLandmarkIds","size":20},{"matrixGroup":"HotelChainId","size":10},{"matrixGroup":"RecommendedByDestinationCity","size":10},{"matrixGroup":"Deals","size":100}],"filterRequest":{"idsFilters":[],"rangeFilters":[],"textFilters":[]},"page":{"pageSize":45,"pageNumber":%s,"pageToken":""},"apoRequest":{"apoPageSize":10},"searchHistory":[{"objectId":10470,"searchDate":"2021-12-15","searchType":"PropertySearch","childrenAges":[]},{"objectId":529150,"searchDate":"2021-12-15","searchType":"PropertySearch","childrenAges":[]},{"objectId":4762,"searchDate":"2021-12-16","searchType":"PropertySearch","childrenAges":[]},{"objectId":546169,"searchDate":"2021-12-20","searchType":"PropertySearch","childrenAges":[]},{"objectId":338317,"searchDate":"2021-12-20","searchType":"PropertySearch","childrenAges":[]},{"objectId":12426098,"searchDate":"2021-12-20","searchType":"PropertySearch","childrenAges":[]},{"objectId":43471,"searchDate":"2021-12-20","searchType":"PropertySearch","childrenAges":[]},{"objectId":338317,"searchDate":"2021-12-20","searchType":"PropertySearch","childrenAges":[]}],"searchDetailRequest":{"priceHistogramBins":50},"isTrimmedResponseRequested":false,"featuredAgodaHomesRequest":null,"featuredLuxuryHotelsRequest":null,"highlyRatedAgodaHomesRequest":{"numberOfAgodaHomes":30,"minimumReviewScore":7.5,"minimumReviewCount":3,"accommodationTypes":[28,29,30,102,103,106,107,108,109,110,114,115,120,131],"sortVersion":0},"extraAgodaHomesRequest":null,"extraHotels":{"extraHotelIds":[],"enableFiltersForExtraHotels":false},"packaging":null,"flexibleSearchRequest":{"fromDate":"2021-12-20","toDate":"2022-01-21","alternativeDateSize":4}}},"ContentSummaryRequest":{"context":{"rawUserId":"9d229ec9-a7b9-41fd-86dd-415e6797a3ca","memberId":0,"userOrigin":"ID","locale":"en-us","forceExperimentsByIdNew":[{"key":"FAM-366","value":"B"},{"key":"DRAGON-2308","value":"B"},{"key":"MIN-13903-2","value":"B"},{"key":"MIN-14036","value":"B"},{"key":"UMRAH-B2B","value":"B"},{"key":"UMRAH-B2C-REGIONAL","value":"B"},{"key":"UMRAH-B2C","value":"Z"},{"key":"JGCW-202","value":"B"},{"key":"JGCW-204","value":"B"},{"key":"JGCW-264","value":"B"},{"key":"JGCW-299","value":"B"},{"key":"JGCW-159","value":"B"},{"key":"FD-3936","value":"B"}],"apo":false,"searchCriteria":{"cityId":5070},"platform":{"id":1},"storeFrontId":3,"cid":"1844104","occupancy":{"numberOfAdults":2,"numberOfChildren":0,"travelerType":1},"deviceTypeId":1,"whiteLabelKey":"","correlationId":""},"summary":{"highlightedFeaturesOrderPriority":null,"description":false},"reviews":{"commentary":null,"demographics":{"providerIds":null,"filter":{"defaultProviderOnly":true}},"summaries":{"providerIds":null,"apo":true,"limit":1,"travellerType":2},"cumulative":{"providerIds":null},"filters":null},"images":{"page":null,"maxWidth":0,"maxHeight":0,"imageSizes":null,"indexOffset":null},"rooms":{"images":null,"featureLimit":0,"filterCriteria":null,"includeMissing":false,"includeSoldOut":false,"includeDmcRoomId":false,"soldOutRoomCriteria":null,"showRoomSize":true,"showRoomFacilities":true},"nonHotelAccommodation":true,"engagement":true,"highlights":{"maxNumberOfItems":0,"images":{"imageSizes":[{"key":"full","size":{"width":0,"height":0}}]}},"personalizedInformation":false,"localInformation":{"images":null},"features":null,"rateCategories":true,"contentRateCategories":{"escapeRateCategories":{}},"synopsis":true},"PricingSummaryRequest":{"cheapestOnly":true,"context":{"isAllowBookOnRequest":true,"abTests":[{"testId":9021,"abUser":"B"},{"testId":9023,"abUser":"B"},{"testId":9024,"abUser":"B"},{"testId":9025,"abUser":"B"},{"testId":9027,"abUser":"B"},{"testId":9029,"abUser":"B"}],"clientInfo":{"cid":1844104,"languageId":1,"languageUse":1,"origin":"ID","platform":1,"searchId":"","storefront":3,"userId":"9d229ec9-a7b9-41fd-86dd-415e6797a3ca","ipAddress":"110.137.195.241"},"experiment":[{"name":"FAM-366","variant":"B"},{"name":"DRAGON-2308","variant":"B"},{"name":"MIN-13903-2","variant":"B"},{"name":"MIN-14036","variant":"B"},{"name":"UMRAH-B2B","variant":"B"},{"name":"UMRAH-B2C-REGIONAL","variant":"B"},{"name":"UMRAH-B2C","variant":"Z"},{"name":"JGCW-202","variant":"B"},{"name":"JGCW-204","variant":"B"},{"name":"JGCW-264","variant":"B"},{"name":"JGCW-299","variant":"B"},{"name":"JGCW-159","variant":"B"},{"name":"FD-3936","variant":"B"}],"isDebug":false,"sessionInfo":{"isLogin":false,"memberId":0,"sessionId":1},"packaging":null},"isSSR":true,"pricing":{"bookingDate":"2021-12-20T06:17:47.223Z","checkIn":"2021-12-21T17:00:00.000Z","checkout":"2021-12-22T17:00:00.000Z","localCheckInDate":"2021-12-22","localCheckoutDate":"2021-12-23","currency":"IDR","details":{"cheapestPriceOnly":false,"itemBreakdown":false,"priceBreakdown":false},"featureFlag":["ClientDiscount","PriceHistory","VipPlatinum","CouponSellEx","MixAndSave","APSPeek","StackChannelDiscount","AutoApplyPromos","EnableAgencySupplyForPackages","EnableCashback","CreditCardPromotionPeek"],"features":{"crossOutRate":false,"isAPSPeek":false,"isAllOcc":false,"isApsEnabled":false,"isIncludeUsdAndLocalCurrency":false,"isMSE":true,"isRPM2Included":true,"maxSuggestions":0,"newRateModel":false,"overrideOccupancy":false,"filterCheapestRoomEscapesPackage":false,"priusId":0,"synchronous":false,"enableRichContentOffer":true,"showCouponAmountInUserCurrency":false,"disableEscapesPackage":false},"filters":{"cheapestRoomFilters":[],"filterAPO":false,"ratePlans":[1],"secretDealOnly":false,"suppliers":[],"nosOfBedrooms":[]},"includedPriceInfo":false,"occupancy":{"adults":2,"children":0,"childAges":[],"rooms":1,"childrenTypes":[]},"supplierPullMetadata":{"requiredPrecheckAccuracyLevel":0},"mseHotelIds":[],"ppLandingHotelIds":[],"searchedHotelIds":[],"paymentId":-1},"suggestedPrice":"Exclusive"},"PriceStreamMetaLabRequest":{"attributesId":[8,1,18,7,11,2,3]}},"query":"query areaSearch($AreaSearchRequest: AreaSearchRequest!, $ContentSummaryRequest: ContentSummaryRequest!, $PricingSummaryRequest: PricingRequestParameters, $PriceStreamMetaLabRequest: PriceStreamMetaLabRequest) {\\n  areaSearch(AreaSearchRequest: $AreaSearchRequest) {\\n    searchResult {\\n      sortMatrix {\\n        result {\\n          fieldId\\n          sorting {\\n            sortField\\n            sortOrder\\n            sortParams {\\n              id\\n            }\\n          }\\n          display {\\n            name\\n          }\\n          childMatrix {\\n            fieldId\\n            sorting {\\n              sortField\\n              sortOrder\\n              sortParams {\\n                id\\n              }\\n            }\\n            display {\\n              name\\n            }\\n            childMatrix {\\n              fieldId\\n              sorting {\\n                sortField\\n                sortOrder\\n                sortParams {\\n                  id\\n                }\\n              }\\n              display {\\n                name\\n              }\\n            }\\n          }\\n        }\\n      }\\n      searchInfo {\\n        flexibleSearch {\\n          currentDate {\\n            checkIn\\n            price\\n          }\\n          alternativeDates {\\n            checkIn\\n            price\\n          }\\n        }\\n        hasSecretDeal\\n        isComplete\\n        totalFilteredHotels\\n        hasEscapesPackage\\n        searchStatus {\\n          searchCriteria {\\n            checkIn\\n          }\\n          searchStatus\\n        }\\n        objectInfo {\\n          objectName\\n          cityName\\n          cityEnglishName\\n          countryId\\n          countryEnglishName\\n          mapLatitude\\n          mapLongitude\\n          mapZoomLevel\\n          wlPreferredCityName\\n          wlPreferredCountryName\\n          cityId\\n          cityCenterPolygon {\\n            geoPoints {\\n              lon\\n              lat\\n            }\\n            touristAreaCenterPoint {\\n              lon\\n              lat\\n            }\\n          }\\n        }\\n      }\\n      urgencyDetail {\\n        urgencyScore\\n      }\\n      histogram {\\n        bins {\\n          numOfElements\\n          upperBound {\\n            perNightPerRoom\\n            perPax\\n          }\\n        }\\n      }\\n      nhaProbability\\n    }\\n    properties(ContentSummaryRequest: $ContentSummaryRequest, PricingSummaryRequest: $PricingSummaryRequest, PriceStreamMetaLabRequest: $PriceStreamMetaLabRequest) {\\n      propertyId\\n      sponsoredDetail {\\n        sponsoredType\\n        trackingData\\n        isShowSponsoredFlag\\n      }\\n      propertyResultType\\n      content {\\n        informationSummary {\\n          propertyLinks {\\n            propertyPage\\n          }\\n          atmospheres {\\n            id\\n            name\\n          }\\n          localeName\\n          defaultName\\n          displayName\\n          accommodationType\\n          awardYear\\n          hasHostExperience\\n          address {\\n            countryCode\\n            country {\\n              id\\n              name\\n            }\\n            city {\\n              id\\n              name\\n            }\\n            area {\\n              id\\n              name\\n            }\\n          }\\n          propertyType\\n          rating\\n          agodaGuaranteeProgram\\n          remarks {\\n            renovationInfo {\\n              renovationType\\n              year\\n            }\\n          }\\n          spokenLanguages {\\n            id\\n          }\\n          geoInfo {\\n            latitude\\n            longitude\\n          }\\n        }\\n        propertyEngagement {\\n          lastBooking\\n          peopleLooking\\n        }\\n        nonHotelAccommodation {\\n          masterRooms {\\n            noOfBathrooms\\n            noOfBedrooms\\n            noOfBeds\\n            roomSizeSqm\\n            highlightedFacilities\\n          }\\n          hostLevel {\\n            id\\n            name\\n          }\\n          supportedLongStay\\n        }\\n        facilities {\\n          id\\n        }\\n        images {\\n          hotelImages {\\n            id\\n            caption\\n            providerId\\n            urls {\\n              key\\n              value\\n            }\\n          }\\n        }\\n        reviews {\\n          contentReview {\\n            isDefault\\n            providerId\\n            demographics {\\n              groups {\\n                id\\n                grades {\\n                  id\\n                  score\\n                }\\n              }\\n            }\\n            summaries {\\n              recommendationScores {\\n                recommendationScore\\n              }\\n              snippets {\\n                countryId\\n                countryCode\\n                countryName\\n                date\\n                demographicId\\n                demographicName\\n                reviewer\\n                reviewRating\\n                snippet\\n              }\\n            }\\n            cumulative {\\n              reviewCount\\n              score\\n            }\\n          }\\n          cumulative {\\n            reviewCount\\n            score\\n          }\\n        }\\n        familyFeatures {\\n          hasChildrenFreePolicy\\n          isFamilyRoom\\n          hasMoreThanOneBedroom\\n          isInterConnectingRoom\\n          isInfantCottageAvailable\\n          hasKidsPool\\n          hasKidsClub\\n        }\\n        personalizedInformation {\\n          childrenFreePolicy {\\n            fromAge\\n            toAge\\n          }\\n        }\\n        localInformation {\\n          landmarks {\\n            transportation {\\n              landmarkName\\n              distanceInM\\n            }\\n            topLandmark {\\n              landmarkName\\n              distanceInM\\n            }\\n            beach {\\n              landmarkName\\n              distanceInM\\n            }\\n          }\\n          hasAirportTransfer\\n        }\\n        highlight {\\n          cityCenter {\\n            distanceFromCityCenter\\n          }\\n          favoriteFeatures {\\n            features {\\n              id\\n              title\\n              category\\n            }\\n          }\\n          hasNearbyPublicTransportation\\n        }\\n        rateCategories {\\n          escapeRateCategories {\\n            rateCategoryId\\n            localizedRateCategoryName\\n          }\\n        }\\n      }\\n      soldOut {\\n        soldOutPrice {\\n          averagePrice\\n        }\\n      }\\n      pricing {\\n        pulseCampaignMetadata {\\n          promotionTypeId\\n          webCampaignId\\n          campaignTypeId\\n          campaignBadgeText\\n          campaignBadgeDescText\\n        }\\n        isAvailable\\n        isReady\\n        benefits\\n        cheapestRoomOffer {\\n          agodaCash {\\n            showBadge\\n            giftcardGuid\\n            dayToEarn\\n            earnId\\n            percentage\\n            expiryDay\\n          }\\n          cashback {\\n            cashbackGuid\\n            showPostCashbackPrice\\n            percentage\\n            earnId\\n            dayToEarn\\n            expiryDay\\n          }\\n        }\\n        isEasyCancel\\n        isInsiderDeal\\n        isMultiHotelEligible\\n        suggestPriceType {\\n          suggestPrice\\n        }\\n        roomBundle {\\n          bundleId\\n          bundleType\\n          saveAmount {\\n            perNight {\\n              ...Fragf74hj2d25df285fafjh3\\n            }\\n          }\\n        }\\n        pointmax {\\n          channelId\\n          point\\n        }\\n        priceChange {\\n          changePercentage\\n          searchDate\\n        }\\n        payment {\\n          cancellation {\\n            cancellationType\\n            freeCancellationDate\\n          }\\n          payLater {\\n            isEligible\\n          }\\n          payAtHotel {\\n            isEligible\\n          }\\n          noCreditCard {\\n            isEligible\\n          }\\n          taxReceipt {\\n            isEligible\\n          }\\n        }\\n        cheapestStayPackageRatePlans {\\n          stayPackageType\\n          ratePlanId\\n        }\\n        pricingMessages {\\n          location\\n          ids\\n        }\\n        suppliersSummaries {\\n          id\\n          supplierHotelId\\n        }\\n        supplierInfo {\\n          id\\n          name\\n          isAgodaBand\\n        }\\n        offers {\\n          roomOffers {\\n            room {\\n              availableRooms\\n              isPromoEligible\\n              promotions {\\n                typeId\\n                promotionDiscount {\\n                  value\\n                }\\n              }\\n              supplierId\\n              corSummary {\\n                hasCor\\n                corType\\n                isOriginal\\n                hasOwnCOR\\n                isBlacklistedCor\\n              }\\n              localVoucher {\\n                currencyCode\\n                amount\\n              }\\n              pricing {\\n                currency\\n                price {\\n                  perNight {\\n                    exclusive {\\n                      display\\n                      cashbackPrice\\n                      displayAfterCashback\\n                      originalPrice\\n                    }\\n                    inclusive {\\n                      display\\n                      cashbackPrice\\n                      displayAfterCashback\\n                      originalPrice\\n                    }\\n                  }\\n                  perBook {\\n                    exclusive {\\n                      display\\n                      cashbackPrice\\n                      displayAfterCashback\\n                      rebatePrice\\n                      originalPrice\\n                      autoAppliedPromoDiscount\\n                    }\\n                    inclusive {\\n                      display\\n                      cashbackPrice\\n                      displayAfterCashback\\n                      rebatePrice\\n                      originalPrice\\n                      autoAppliedPromoDiscount\\n                    }\\n                  }\\n                  perRoomPerNight {\\n                    exclusive {\\n                      display\\n                      crossedOutPrice\\n                      cashbackPrice\\n                      displayAfterCashback\\n                      rebatePrice\\n                      pseudoCouponPrice\\n                      originalPrice\\n                    }\\n                    inclusive {\\n                      display\\n                      crossedOutPrice\\n                      cashbackPrice\\n                      displayAfterCashback\\n                      rebatePrice\\n                      pseudoCouponPrice\\n                      originalPrice\\n                    }\\n                  }\\n                  totalDiscount\\n                  priceAfterAppliedAgodaCash {\\n                    perBook {\\n                      ...Fragic9h5cb6913e77dehb81\\n                    }\\n                    perRoomPerNight {\\n                      ...Fragic9h5cb6913e77dehb81\\n                    }\\n                  }\\n                }\\n                apsPeek {\\n                  perRoomPerNight {\\n                    ...Fragf74hj2d25df285fafjh3\\n                  }\\n                }\\n                promotionPricePeek {\\n                  display {\\n                    perBook {\\n                      ...Fragf74hj2d25df285fafjh3\\n                    }\\n                    perRoomPerNight {\\n                      ...Fragf74hj2d25df285fafjh3\\n                    }\\n                    perNight {\\n                      ...Fragf74hj2d25df285fafjh3\\n                    }\\n                  }\\n                  discountType\\n                  promotionCodeType\\n                  promotionCode\\n                  promoAppliedOnFinalPrice\\n                  childPromotions {\\n                    campaignId\\n                  }\\n                  campaignName\\n                }\\n                channelDiscountSummary {\\n                  channelDiscountBreakdown {\\n                    display\\n                    discountPercent\\n                    channelId\\n                  }\\n                }\\n              }\\n              uid\\n              payment {\\n                cancellation {\\n                  cancellationType\\n                }\\n              }\\n              discount {\\n                deals\\n                channelDiscount\\n              }\\n              saveUpTo {\\n                perRoomPerNight\\n              }\\n              benefits {\\n                id\\n                targetType\\n              }\\n              channel {\\n                id\\n              }\\n              mseRoomSummaries {\\n                supplierId\\n                subSupplierId\\n                pricingSummaries {\\n                  currency\\n                  channelDiscountSummary {\\n                    channelDiscountBreakdown {\\n                      channelId\\n                      discountPercent\\n                      display\\n                    }\\n                  }\\n                  price {\\n                    perRoomPerNight {\\n                      exclusive {\\n                        display\\n                      }\\n                      inclusive {\\n                        display\\n                      }\\n                    }\\n                  }\\n                }\\n              }\\n              cashback {\\n                cashbackGuid\\n                showPostCashbackPrice\\n                percentage\\n                earnId\\n                dayToEarn\\n                expiryDay\\n              }\\n              agodaCash {\\n                showBadge\\n                giftcardGuid\\n                dayToEarn\\n                expiryDay\\n                percentage\\n              }\\n              corInfo {\\n                corBreakdown {\\n                  taxExPN {\\n                    ...Fragf0956948ej51dgeji810\\n                  }\\n                  taxInPN {\\n                    ...Fragf0956948ej51dgeji810\\n                  }\\n                  taxExPRPN {\\n                    ...Fragf0956948ej51dgeji810\\n                  }\\n                  taxInPRPN {\\n                    ...Fragf0956948ej51dgeji810\\n                  }\\n                }\\n                corInfo {\\n                  corType\\n                }\\n              }\\n              loyaltyDisplay {\\n                items\\n              }\\n              capacity {\\n                extraBedsAvailable\\n              }\\n              pricingMessages {\\n                formatted {\\n                  location\\n                  texts {\\n                    index\\n                    text\\n                  }\\n                }\\n              }\\n              campaign {\\n                selected {\\n                  messages {\\n                    campaignName\\n                    title\\n                    titleWithDiscount\\n                    description\\n                    linkOutText\\n                    url\\n                  }\\n                }\\n              }\\n              isTaiwanCampaignEligible\\n            }\\n          }\\n        }\\n      }\\n      metaLab {\\n        attributes {\\n          attributeId\\n          dataType\\n          value\\n          version\\n        }\\n      }\\n      enrichment {\\n        topSellingPoint {\\n          tspType\\n          value\\n        }\\n        pricingBadges {\\n          badges\\n        }\\n        uniqueSellingPoint {\\n          rank\\n          segment\\n          uspType\\n          uspPropertyType\\n        }\\n        bookingHistory {\\n          bookingCount {\\n            count\\n            timeFrame\\n          }\\n        }\\n        showReviewSnippet\\n        isPopular\\n        roomInformation {\\n          cheapestRoomSizeSqm\\n          facilities {\\n            id\\n            propertyFacilityName\\n            symbol\\n          }\\n        }\\n      }\\n      priceBreakerProperties {\\n        propertyId\\n        content {\\n          informationSummary {\\n            displayName\\n            rating\\n            propertyLinks {\\n              propertyPage\\n            }\\n            address {\\n              area {\\n                name\\n              }\\n              city {\\n                name\\n              }\\n            }\\n          }\\n          highlight {\\n            cityCenter {\\n              distanceFromCityCenter\\n              isInsideCityCenter\\n            }\\n          }\\n          reviews {\\n            contentReview {\\n              summaries {\\n                snippets {\\n                  countryId\\n                  countryCode\\n                  countryName\\n                  date\\n                  demographicId\\n                  demographicName\\n                  reviewer\\n                  reviewRating\\n                  snippet\\n                }\\n              }\\n            }\\n            cumulative {\\n              score\\n              reviewCount\\n            }\\n          }\\n          images {\\n            hotelImages {\\n              id\\n              caption\\n              providerId\\n              urls {\\n                key\\n                value\\n              }\\n            }\\n          }\\n        }\\n        pricing {\\n          isReady\\n          isAvailable\\n          offers {\\n            roomOffers {\\n              room {\\n                uid\\n                pricing {\\n                  currency\\n                  price {\\n                    perRoomPerNight {\\n                      exclusive {\\n                        crossedOutPrice\\n                        display\\n                      }\\n                      inclusive {\\n                        crossedOutPrice\\n                        display\\n                      }\\n                    }\\n                  }\\n                }\\n              }\\n            }\\n          }\\n        }\\n      }\\n    }\\n    searchEnrichment {\\n      suppliersInformation {\\n        supplierId\\n        supplierName\\n        isAgodaBand\\n      }\\n    }\\n    aggregation {\\n      matrixGroupResults {\\n        matrixGroup\\n        matrixItemResults {\\n          id\\n          name\\n          count\\n          filterKey\\n          filterRequestType\\n          extraDataResults {\\n            text\\n            matrixExtraDataType\\n          }\\n        }\\n      }\\n    }\\n  }\\n}\\n\\nfragment Fragic9h5cb6913e77dehb81 on DisplayPrice {\\n  exclusive\\n  allInclusive\\n}\\n\\nfragment Fragf74hj2d25df285fafjh3 on DFDisplayPrice {\\n  exclusive\\n  allInclusive\\n}\\n\\nfragment Fragf0956948ej51dgeji810 on DFCorBreakdownItem {\\n  price\\n  id\\n}\\n"}' % (region_id, areaid,  page)
        else:
            data = '{"operationName":"citySearch","variables":{"CitySearchRequest":{"cityId":162489,"searchRequest":{"searchCriteria":{"isAllowBookOnRequest":true,"bookingDate":"2021-12-24T10:20:00.350Z","checkInDate":"2022-01-19T17:00:00.000Z","localCheckInDate":"2022-01-20","los":1,"rooms":1,"adults":2,"children":0,"childAges":[],"ratePlans":[],"featureFlagRequest":{"fetchNamesForTealium":true,"fiveStarDealOfTheDay":true,"isAllowBookOnRequest":false,"showUnAvailable":true,"showRemainingProperties":true,"isMultiHotelSearch":false,"enableAgencySupplyForPackages":true,"flags":[{"feature":"FamilyChildFriendlyPopularFilter","enable":true},{"feature":"FamilyChildFriendlyPropertyTypeFilter","enable":true},{"feature":"FamilyMode","enable":false}],"enablePriceBreaker":false,"enablePageToken":false},"isUserLoggedIn":false,"currency":"IDR","travellerType":"Couple","isAPSPeek":false,"enableOpaqueChannel":false,"isEnabledPartnerChannelSelection":null,"sorting":{"sortField":"Ranking","sortOrder":"Desc","sortParams":null},"requiredBasis":"PRPN","requiredPrice":"Exclusive","suggestionLimit":0,"synchronous":false,"supplierPullMetadataRequest":null,"isRoomSuggestionRequested":false,"isAPORequest":false,"hasAPOFilter":false},"searchContext":{"userId":"9d229ec9-a7b9-41fd-86dd-415e6797a3ca","memberId":0,"locale":"en-us","cid":1844104,"origin":"ID","platform":1,"deviceTypeId":1,"experiments":{"forceByVariant":null,"forceByExperiment":[{"id":"FAM-366","variant":"B"},{"id":"DRAGON-2308","variant":"B"},{"id":"MIN-13903-2","variant":"B"},{"id":"MIN-14036","variant":"B"},{"id":"UMRAH-B2B","variant":"B"},{"id":"UMRAH-B2C-REGIONAL","variant":"B"},{"id":"UMRAH-B2C","variant":"Z"},{"id":"JGCW-202","variant":"B"},{"id":"JGCW-204","variant":"B"},{"id":"JGCW-264","variant":"B"},{"id":"JGCW-299","variant":"B"},{"id":"JGCW-159","variant":"B"},{"id":"FD-3936","variant":"B"}]},"isRetry":false,"showCMS":false,"storeFrontId":3,"pageTypeId":103,"whiteLabelKey":null,"ipAddress":"125.161.118.133","endpointSearchType":"CitySearch","trackSteps":null},"matrix":null,"matrixGroup":[{"matrixGroup":"NumberOfBedrooms","size":100},{"matrixGroup":"LandmarkIds","size":10},{"matrixGroup":"AllGuestReviewBreakdown","size":100},{"matrixGroup":"BusStationLandmarkIds","size":20},{"matrixGroup":"GroupedBedTypes","size":100},{"matrixGroup":"RoomBenefits","size":100},{"matrixGroup":"AtmosphereIds","size":100},{"matrixGroup":"RoomAmenities","size":100},{"matrixGroup":"AffordableCategory","size":100},{"matrixGroup":"HotelFacilities","size":100},{"matrixGroup":"BeachAccessTypeIds","size":100},{"matrixGroup":"StarRating","size":20},{"matrixGroup":"MetroSubwayStationLandmarkIds","size":20},{"matrixGroup":"CityCenterDistance","size":100},{"matrixGroup":"ProductType","size":100},{"matrixGroup":"ReviewLocationScore","size":3},{"matrixGroup":"LandmarkSubTypeCategoryIds","size":20},{"matrixGroup":"ReviewScore","size":100},{"matrixGroup":"IsStaycation","size":5},{"matrixGroup":"AccommodationType","size":100},{"matrixGroup":"PaymentOptions","size":100},{"matrixGroup":"TrainStationLandmarkIds","size":20},{"matrixGroup":"HotelAreaId","size":100},{"matrixGroup":"HotelChainId","size":10},{"matrixGroup":"RecommendedByDestinationCity","size":10},{"matrixGroup":"Deals","size":100}],"filterRequest":{"idsFilters":[],"rangeFilters":[],"textFilters":[]},"page":{"pageSize":45,"pageNumber":%s,"pageToken":""},"apoRequest":{"apoPageSize":10},"searchHistory":[{"objectId":10470,"searchDate":"2021-12-15","searchType":"PropertySearch","childrenAges":[]},{"objectId":529150,"searchDate":"2021-12-15","searchType":"PropertySearch","childrenAges":[]},{"objectId":4762,"searchDate":"2021-12-16","searchType":"PropertySearch","childrenAges":[]},{"objectId":546169,"searchDate":"2021-12-20","searchType":"PropertySearch","childrenAges":[]},{"objectId":338317,"searchDate":"2021-12-20","searchType":"PropertySearch","childrenAges":[]},{"objectId":12426098,"searchDate":"2021-12-20","searchType":"PropertySearch","childrenAges":[]},{"objectId":43471,"searchDate":"2021-12-20","searchType":"PropertySearch","childrenAges":[]},{"objectId":338317,"searchDate":"2021-12-20","searchType":"PropertySearch","childrenAges":[]},{"objectId":13875957,"searchDate":"2021-12-20","searchType":"PropertySearch","childrenAges":[]},{"objectId":44617,"searchDate":"2021-12-21","searchType":"PropertySearch","childrenAges":[]},{"objectId":12423971,"searchDate":"2021-12-24","searchType":"PropertySearch","childrenAges":[]},{"objectId":10442,"searchDate":"2021-12-24","searchType":"PropertySearch","childrenAges":[]},{"objectId":546198,"searchDate":"2021-12-24","searchType":"PropertySearch","childrenAges":[]},{"objectId":15857251,"searchDate":"2021-12-24","searchType":"PropertySearch","childrenAges":[]},{"objectId":8665829,"searchDate":"2021-12-24","searchType":"PropertySearch","childrenAges":[]},{"objectId":16072732,"searchDate":"2021-12-24","searchType":"PropertySearch","childrenAges":[]},{"objectId":29458541,"searchDate":"2021-12-24","searchType":"PropertySearch","childrenAges":[]}],"searchDetailRequest":{"priceHistogramBins":50},"isTrimmedResponseRequested":false,"featuredAgodaHomesRequest":null,"featuredLuxuryHotelsRequest":null,"highlyRatedAgodaHomesRequest":{"numberOfAgodaHomes":30,"minimumReviewScore":7.5,"minimumReviewCount":3,"accommodationTypes":[28,29,30,102,103,106,107,108,109,110,114,115,120,131],"sortVersion":0},"extraAgodaHomesRequest":null,"extraHotels":{"extraHotelIds":[],"enableFiltersForExtraHotels":false},"packaging":null,"flexibleSearchRequest":{"fromDate":"2021-12-24","toDate":"2022-02-19","alternativeDateSize":4}}},"ContentSummaryRequest":{"context":{"rawUserId":"9d229ec9-a7b9-41fd-86dd-415e6797a3ca","memberId":0,"userOrigin":"ID","locale":"en-us","forceExperimentsByIdNew":[{"key":"FAM-366","value":"B"},{"key":"DRAGON-2308","value":"B"},{"key":"MIN-13903-2","value":"B"},{"key":"MIN-14036","value":"B"},{"key":"UMRAH-B2B","value":"B"},{"key":"UMRAH-B2C-REGIONAL","value":"B"},{"key":"UMRAH-B2C","value":"Z"},{"key":"JGCW-202","value":"B"},{"key":"JGCW-204","value":"B"},{"key":"JGCW-264","value":"B"},{"key":"JGCW-299","value":"B"},{"key":"JGCW-159","value":"B"},{"key":"FD-3936","value":"B"}],"apo":false,"searchCriteria":{"cityId":162489},"platform":{"id":1},"storeFrontId":3,"cid":"1844104","occupancy":{"numberOfAdults":2,"numberOfChildren":0,"travelerType":1},"deviceTypeId":1,"whiteLabelKey":"","correlationId":""},"summary":{"highlightedFeaturesOrderPriority":null,"description":false},"reviews":{"commentary":null,"demographics":{"providerIds":null,"filter":{"defaultProviderOnly":true}},"summaries":{"providerIds":null,"apo":true,"limit":1,"travellerType":2},"cumulative":{"providerIds":null},"filters":null},"images":{"page":null,"maxWidth":0,"maxHeight":0,"imageSizes":null,"indexOffset":null},"rooms":{"images":null,"featureLimit":0,"filterCriteria":null,"includeMissing":false,"includeSoldOut":false,"includeDmcRoomId":false,"soldOutRoomCriteria":null,"showRoomSize":true,"showRoomFacilities":true},"nonHotelAccommodation":true,"engagement":true,"highlights":{"maxNumberOfItems":0,"images":{"imageSizes":[{"key":"full","size":{"width":0,"height":0}}]}},"personalizedInformation":false,"localInformation":{"images":null},"features":null,"rateCategories":true,"contentRateCategories":{"escapeRateCategories":{}},"synopsis":true},"PricingSummaryRequest":{"cheapestOnly":true,"context":{"isAllowBookOnRequest":true,"abTests":[{"testId":9021,"abUser":"B"},{"testId":9023,"abUser":"B"},{"testId":9024,"abUser":"B"},{"testId":9025,"abUser":"B"},{"testId":9027,"abUser":"B"},{"testId":9029,"abUser":"B"}],"clientInfo":{"cid":1844104,"languageId":1,"languageUse":1,"origin":"ID","platform":1,"searchId":"","storefront":3,"userId":"9d229ec9-a7b9-41fd-86dd-415e6797a3ca","ipAddress":"125.161.118.133"},"experiment":[{"name":"FAM-366","variant":"B"},{"name":"DRAGON-2308","variant":"B"},{"name":"MIN-13903-2","variant":"B"},{"name":"MIN-14036","variant":"B"},{"name":"UMRAH-B2B","variant":"B"},{"name":"UMRAH-B2C-REGIONAL","variant":"B"},{"name":"UMRAH-B2C","variant":"Z"},{"name":"JGCW-202","variant":"B"},{"name":"JGCW-204","variant":"B"},{"name":"JGCW-264","variant":"B"},{"name":"JGCW-299","variant":"B"},{"name":"JGCW-159","variant":"B"},{"name":"FD-3936","variant":"B"}],"isDebug":false,"sessionInfo":{"isLogin":false,"memberId":0,"sessionId":1},"packaging":null},"isSSR":true,"pricing":{"bookingDate":"2021-12-24T10:20:00.329Z","checkIn":"2022-01-19T17:00:00.000Z","checkout":"2022-01-20T17:00:00.000Z","localCheckInDate":"2022-01-20","localCheckoutDate":"2022-01-21","currency":"IDR","details":{"cheapestPriceOnly":false,"itemBreakdown":false,"priceBreakdown":false},"featureFlag":["ClientDiscount","PriceHistory","VipPlatinum","CouponSellEx","MixAndSave","APSPeek","StackChannelDiscount","AutoApplyPromos","EnableAgencySupplyForPackages","EnableCashback","CreditCardPromotionPeek"],"features":{"crossOutRate":false,"isAPSPeek":false,"isAllOcc":false,"isApsEnabled":false,"isIncludeUsdAndLocalCurrency":false,"isMSE":true,"isRPM2Included":true,"maxSuggestions":0,"newRateModel":false,"overrideOccupancy":false,"filterCheapestRoomEscapesPackage":false,"priusId":0,"synchronous":false,"enableRichContentOffer":true,"showCouponAmountInUserCurrency":false,"disableEscapesPackage":false},"filters":{"cheapestRoomFilters":[],"filterAPO":false,"ratePlans":[1],"secretDealOnly":false,"suppliers":[],"nosOfBedrooms":[]},"includedPriceInfo":false,"occupancy":{"adults":2,"children":0,"childAges":[],"rooms":1,"childrenTypes":[]},"supplierPullMetadata":{"requiredPrecheckAccuracyLevel":0},"mseHotelIds":[],"ppLandingHotelIds":[],"searchedHotelIds":[],"paymentId":-1},"suggestedPrice":"Exclusive"},"PriceStreamMetaLabRequest":{"attributesId":[8,1,18,7,11,2,3]}},"query":"query citySearch($CitySearchRequest: CitySearchRequest!, $ContentSummaryRequest: ContentSummaryRequest!, $PricingSummaryRequest: PricingRequestParameters, $PriceStreamMetaLabRequest: PriceStreamMetaLabRequest) {\\n  citySearch(CitySearchRequest: $CitySearchRequest) {\\n    searchResult {\\n      sortMatrix {\\n        result {\\n          fieldId\\n          sorting {\\n            sortField\\n            sortOrder\\n            sortParams {\\n              id\\n            }\\n          }\\n          display {\\n            name\\n          }\\n          childMatrix {\\n            fieldId\\n            sorting {\\n              sortField\\n              sortOrder\\n              sortParams {\\n                id\\n              }\\n            }\\n            display {\\n              name\\n            }\\n            childMatrix {\\n              fieldId\\n              sorting {\\n                sortField\\n                sortOrder\\n                sortParams {\\n                  id\\n                }\\n              }\\n              display {\\n                name\\n              }\\n            }\\n          }\\n        }\\n      }\\n      searchInfo {\\n        flexibleSearch {\\n          currentDate {\\n            checkIn\\n            price\\n          }\\n          alternativeDates {\\n            checkIn\\n            price\\n          }\\n        }\\n        hasSecretDeal\\n        isComplete\\n        totalFilteredHotels\\n        hasEscapesPackage\\n        searchStatus {\\n          searchCriteria {\\n            checkIn\\n          }\\n          searchStatus\\n        }\\n        objectInfo {\\n          objectName\\n          cityName\\n          cityEnglishName\\n          countryId\\n          countryEnglishName\\n          mapLatitude\\n          mapLongitude\\n          mapZoomLevel\\n          wlPreferredCityName\\n          wlPreferredCountryName\\n          cityId\\n          cityCenterPolygon {\\n            geoPoints {\\n              lon\\n              lat\\n            }\\n            touristAreaCenterPoint {\\n              lon\\n              lat\\n            }\\n          }\\n        }\\n      }\\n      urgencyDetail {\\n        urgencyScore\\n      }\\n      histogram {\\n        bins {\\n          numOfElements\\n          upperBound {\\n            perNightPerRoom\\n            perPax\\n          }\\n        }\\n      }\\n      nhaProbability\\n    }\\n    properties(ContentSummaryRequest: $ContentSummaryRequest, PricingSummaryRequest: $PricingSummaryRequest, PriceStreamMetaLabRequest: $PriceStreamMetaLabRequest) {\\n      propertyId\\n      sponsoredDetail {\\n        sponsoredType\\n        trackingData\\n        isShowSponsoredFlag\\n      }\\n      propertyResultType\\n      content {\\n        informationSummary {\\n          propertyLinks {\\n            propertyPage\\n          }\\n          atmospheres {\\n            id\\n            name\\n          }\\n          localeName\\n          defaultName\\n          displayName\\n          accommodationType\\n          awardYear\\n          hasHostExperience\\n          address {\\n            countryCode\\n            country {\\n              id\\n              name\\n            }\\n            city {\\n              id\\n              name\\n            }\\n            area {\\n              id\\n              name\\n            }\\n          }\\n          propertyType\\n          rating\\n          agodaGuaranteeProgram\\n          remarks {\\n            renovationInfo {\\n              renovationType\\n              year\\n            }\\n          }\\n          spokenLanguages {\\n            id\\n          }\\n          geoInfo {\\n            latitude\\n            longitude\\n          }\\n        }\\n        propertyEngagement {\\n          lastBooking\\n          peopleLooking\\n        }\\n        nonHotelAccommodation {\\n          masterRooms {\\n            noOfBathrooms\\n            noOfBedrooms\\n            noOfBeds\\n            roomSizeSqm\\n            highlightedFacilities\\n          }\\n          hostLevel {\\n            id\\n            name\\n          }\\n          supportedLongStay\\n        }\\n        facilities {\\n          id\\n        }\\n        images {\\n          hotelImages {\\n            id\\n            caption\\n            providerId\\n            urls {\\n              key\\n              value\\n            }\\n          }\\n        }\\n        reviews {\\n          contentReview {\\n            isDefault\\n            providerId\\n            demographics {\\n              groups {\\n                id\\n                grades {\\n                  id\\n                  score\\n                }\\n              }\\n            }\\n            summaries {\\n              recommendationScores {\\n                recommendationScore\\n              }\\n              snippets {\\n                countryId\\n                countryCode\\n                countryName\\n                date\\n                demographicId\\n                demographicName\\n                reviewer\\n                reviewRating\\n                snippet\\n              }\\n            }\\n            cumulative {\\n              reviewCount\\n              score\\n            }\\n          }\\n          cumulative {\\n            reviewCount\\n            score\\n          }\\n        }\\n        familyFeatures {\\n          hasChildrenFreePolicy\\n          isFamilyRoom\\n          hasMoreThanOneBedroom\\n          isInterConnectingRoom\\n          isInfantCottageAvailable\\n          hasKidsPool\\n          hasKidsClub\\n        }\\n        personalizedInformation {\\n          childrenFreePolicy {\\n            fromAge\\n            toAge\\n          }\\n        }\\n        localInformation {\\n          landmarks {\\n            transportation {\\n              landmarkName\\n              distanceInM\\n            }\\n            topLandmark {\\n              landmarkName\\n              distanceInM\\n            }\\n            beach {\\n              landmarkName\\n              distanceInM\\n            }\\n          }\\n          hasAirportTransfer\\n        }\\n        highlight {\\n          cityCenter {\\n            distanceFromCityCenter\\n          }\\n          favoriteFeatures {\\n            features {\\n              id\\n              title\\n              category\\n            }\\n          }\\n          hasNearbyPublicTransportation\\n        }\\n        rateCategories {\\n          escapeRateCategories {\\n            rateCategoryId\\n            localizedRateCategoryName\\n          }\\n        }\\n      }\\n      soldOut {\\n        soldOutPrice {\\n          averagePrice\\n        }\\n      }\\n      pricing {\\n        pulseCampaignMetadata {\\n          promotionTypeId\\n          webCampaignId\\n          campaignTypeId\\n          campaignBadgeText\\n          campaignBadgeDescText\\n        }\\n        isAvailable\\n        isReady\\n        benefits\\n        cheapestRoomOffer {\\n          agodaCash {\\n            showBadge\\n            giftcardGuid\\n            dayToEarn\\n            earnId\\n            percentage\\n            expiryDay\\n          }\\n          cashback {\\n            cashbackGuid\\n            showPostCashbackPrice\\n            percentage\\n            earnId\\n            dayToEarn\\n            expiryDay\\n          }\\n        }\\n        isEasyCancel\\n        isInsiderDeal\\n        isMultiHotelEligible\\n        suggestPriceType {\\n          suggestPrice\\n        }\\n        roomBundle {\\n          bundleId\\n          bundleType\\n          saveAmount {\\n            perNight {\\n              ...Fragbd4bb5jcd61idh56b325\\n            }\\n          }\\n        }\\n        pointmax {\\n          channelId\\n          point\\n        }\\n        priceChange {\\n          changePercentage\\n          searchDate\\n        }\\n        payment {\\n          cancellation {\\n            cancellationType\\n            freeCancellationDate\\n          }\\n          payLater {\\n            isEligible\\n          }\\n          payAtHotel {\\n            isEligible\\n          }\\n          noCreditCard {\\n            isEligible\\n          }\\n          taxReceipt {\\n            isEligible\\n          }\\n        }\\n        cheapestStayPackageRatePlans {\\n          stayPackageType\\n          ratePlanId\\n        }\\n        pricingMessages {\\n          location\\n          ids\\n        }\\n        suppliersSummaries {\\n          id\\n          supplierHotelId\\n        }\\n        supplierInfo {\\n          id\\n          name\\n          isAgodaBand\\n        }\\n        offers {\\n          roomOffers {\\n            room {\\n              availableRooms\\n              isPromoEligible\\n              promotions {\\n                typeId\\n                promotionDiscount {\\n                  value\\n                }\\n              }\\n              supplierId\\n              corSummary {\\n                hasCor\\n                corType\\n                isOriginal\\n                hasOwnCOR\\n                isBlacklistedCor\\n              }\\n              localVoucher {\\n                currencyCode\\n                amount\\n              }\\n              pricing {\\n                currency\\n                price {\\n                  perNight {\\n                    exclusive {\\n                      display\\n                      cashbackPrice\\n                      displayAfterCashback\\n                      originalPrice\\n                    }\\n                    inclusive {\\n                      display\\n                      cashbackPrice\\n                      displayAfterCashback\\n                      originalPrice\\n                    }\\n                  }\\n                  perBook {\\n                    exclusive {\\n                      display\\n                      cashbackPrice\\n                      displayAfterCashback\\n                      rebatePrice\\n                      originalPrice\\n                      autoAppliedPromoDiscount\\n                    }\\n                    inclusive {\\n                      display\\n                      cashbackPrice\\n                      displayAfterCashback\\n                      rebatePrice\\n                      originalPrice\\n                      autoAppliedPromoDiscount\\n                    }\\n                  }\\n                  perRoomPerNight {\\n                    exclusive {\\n                      display\\n                      crossedOutPrice\\n                      cashbackPrice\\n                      displayAfterCashback\\n                      rebatePrice\\n                      pseudoCouponPrice\\n                      originalPrice\\n                    }\\n                    inclusive {\\n                      display\\n                      crossedOutPrice\\n                      cashbackPrice\\n                      displayAfterCashback\\n                      rebatePrice\\n                      pseudoCouponPrice\\n                      originalPrice\\n                    }\\n                  }\\n                  totalDiscount\\n                  priceAfterAppliedAgodaCash {\\n                    perBook {\\n                      ...Frag7hfj65e0fecabbchd4ac\\n                    }\\n                    perRoomPerNight {\\n                      ...Frag7hfj65e0fecabbchd4ac\\n                    }\\n                  }\\n                }\\n                apsPeek {\\n                  perRoomPerNight {\\n                    ...Fragbd4bb5jcd61idh56b325\\n                  }\\n                }\\n                promotionPricePeek {\\n                  display {\\n                    perBook {\\n                      ...Fragbd4bb5jcd61idh56b325\\n                    }\\n                    perRoomPerNight {\\n                      ...Fragbd4bb5jcd61idh56b325\\n                    }\\n                    perNight {\\n                      ...Fragbd4bb5jcd61idh56b325\\n                    }\\n                  }\\n                  discountType\\n                  promotionCodeType\\n                  promotionCode\\n                  promoAppliedOnFinalPrice\\n                  childPromotions {\\n                    campaignId\\n                  }\\n                  campaignName\\n                }\\n                channelDiscountSummary {\\n                  channelDiscountBreakdown {\\n                    display\\n                    discountPercent\\n                    channelId\\n                  }\\n                }\\n              }\\n              uid\\n              payment {\\n                cancellation {\\n                  cancellationType\\n                }\\n              }\\n              discount {\\n                deals\\n                channelDiscount\\n              }\\n              saveUpTo {\\n                perRoomPerNight\\n              }\\n              benefits {\\n                id\\n                targetType\\n              }\\n              channel {\\n                id\\n              }\\n              mseRoomSummaries {\\n                supplierId\\n                subSupplierId\\n                pricingSummaries {\\n                  currency\\n                  channelDiscountSummary {\\n                    channelDiscountBreakdown {\\n                      channelId\\n                      discountPercent\\n                      display\\n                    }\\n                  }\\n                  price {\\n                    perRoomPerNight {\\n                      exclusive {\\n                        display\\n                      }\\n                      inclusive {\\n                        display\\n                      }\\n                    }\\n                  }\\n                }\\n              }\\n              cashback {\\n                cashbackGuid\\n                showPostCashbackPrice\\n                percentage\\n                earnId\\n                dayToEarn\\n                expiryDay\\n              }\\n              agodaCash {\\n                showBadge\\n                giftcardGuid\\n                dayToEarn\\n                expiryDay\\n                percentage\\n              }\\n              corInfo {\\n                corBreakdown {\\n                  taxExPN {\\n                    ...Fragdj87ij5j3e005eh38df4\\n                  }\\n                  taxInPN {\\n                    ...Fragdj87ij5j3e005eh38df4\\n                  }\\n                  taxExPRPN {\\n                    ...Fragdj87ij5j3e005eh38df4\\n                  }\\n                  taxInPRPN {\\n                    ...Fragdj87ij5j3e005eh38df4\\n                  }\\n                }\\n                corInfo {\\n                  corType\\n                }\\n              }\\n              loyaltyDisplay {\\n                items\\n              }\\n              capacity {\\n                extraBedsAvailable\\n              }\\n              pricingMessages {\\n                formatted {\\n                  location\\n                  texts {\\n                    index\\n                    text\\n                  }\\n                }\\n              }\\n              campaign {\\n                selected {\\n                  messages {\\n                    campaignName\\n                    title\\n                    titleWithDiscount\\n                    description\\n                    linkOutText\\n                    url\\n                  }\\n                }\\n              }\\n            }\\n          }\\n        }\\n      }\\n      metaLab {\\n        attributes {\\n          attributeId\\n          dataType\\n          value\\n          version\\n        }\\n      }\\n      enrichment {\\n        topSellingPoint {\\n          tspType\\n          value\\n        }\\n        pricingBadges {\\n          badges\\n        }\\n        uniqueSellingPoint {\\n          rank\\n          segment\\n          uspType\\n          uspPropertyType\\n        }\\n        bookingHistory {\\n          bookingCount {\\n            count\\n            timeFrame\\n          }\\n        }\\n        showReviewSnippet\\n        isPopular\\n        roomInformation {\\n          cheapestRoomSizeSqm\\n          facilities {\\n            id\\n            propertyFacilityName\\n            symbol\\n          }\\n        }\\n      }\\n      priceBreakerProperties {\\n        propertyId\\n        content {\\n          informationSummary {\\n            displayName\\n            rating\\n            propertyLinks {\\n              propertyPage\\n            }\\n            address {\\n              area {\\n                name\\n              }\\n              city {\\n                name\\n              }\\n            }\\n          }\\n          highlight {\\n            cityCenter {\\n              distanceFromCityCenter\\n              isInsideCityCenter\\n            }\\n          }\\n          reviews {\\n            contentReview {\\n              summaries {\\n                snippets {\\n                  countryId\\n                  countryCode\\n                  countryName\\n                  date\\n                  demographicId\\n                  demographicName\\n                  reviewer\\n                  reviewRating\\n                  snippet\\n                }\\n              }\\n            }\\n            cumulative {\\n              score\\n              reviewCount\\n            }\\n          }\\n          images {\\n            hotelImages {\\n              id\\n              caption\\n              providerId\\n              urls {\\n                key\\n                value\\n              }\\n            }\\n          }\\n        }\\n        pricing {\\n          isReady\\n          isAvailable\\n          offers {\\n            roomOffers {\\n              room {\\n                uid\\n                pricing {\\n                  currency\\n                  price {\\n                    perRoomPerNight {\\n                      exclusive {\\n                        crossedOutPrice\\n                        display\\n                      }\\n                      inclusive {\\n                        crossedOutPrice\\n                        display\\n                      }\\n                    }\\n                  }\\n                }\\n              }\\n            }\\n          }\\n        }\\n      }\\n    }\\n    searchEnrichment {\\n      suppliersInformation {\\n        supplierId\\n        supplierName\\n        isAgodaBand\\n      }\\n    }\\n    aggregation {\\n      matrixGroupResults {\\n        matrixGroup\\n        matrixItemResults {\\n          id\\n          name\\n          count\\n          filterKey\\n          filterRequestType\\n          extraDataResults {\\n            text\\n            matrixExtraDataType\\n          }\\n        }\\n      }\\n    }\\n  }\\n}\\n\\nfragment Frag7hfj65e0fecabbchd4ac on DisplayPrice {\\n  exclusive\\n  allInclusive\\n}\\n\\nfragment Fragbd4bb5jcd61idh56b325 on DFDisplayPrice {\\n  exclusive\\n  allInclusive\\n}\\n\\nfragment Fragdj87ij5j3e005eh38df4 on DFCorBreakdownItem {\\n  price\\n  id\\n}\\n"}'%page

            # data = '{"operationName":"citySearch","variables":{"CitySearchRequest":{"cityId":%s,"searchRequest":{"searchCriteria":{"isAllowBookOnRequest":true,"bookingDate":"2021-12-20T04:19:09.659Z","checkInDate":"2022-01-19T17:00:00.000Z","localCheckInDate":"2022-01-20","los":1,"rooms":1,"adults":2,"children":0,"childAges":[],"ratePlans":[],"featureFlagRequest":{"fetchNamesForTealium":true,"fiveStarDealOfTheDay":true,"isAllowBookOnRequest":false,"showUnAvailable":true,"showRemainingProperties":true,"isMultiHotelSearch":false,"enableAgencySupplyForPackages":true,"flags":[{"feature":"FamilyChildFriendlyPopularFilter","enable":true},{"feature":"FamilyChildFriendlyPropertyTypeFilter","enable":true},{"feature":"FamilyMode","enable":false}],"enablePriceBreaker":false,"enablePageToken":false},"isUserLoggedIn":false,"currency":"IDR","travellerType":"Couple","isAPSPeek":false,"enableOpaqueChannel":false,"isEnabledPartnerChannelSelection":null,"sorting":{"sortField":"Ranking","sortOrder":"Desc","sortParams":null},"requiredBasis":"PRPN","requiredPrice":"Exclusive","suggestionLimit":0,"synchronous":false,"supplierPullMetadataRequest":null,"isRoomSuggestionRequested":false,"isAPORequest":false,"hasAPOFilter":false},"searchContext":{"userId":"9d229ec9-a7b9-41fd-86dd-415e6797a3ca","memberId":0,"locale":"en-us","cid":1844104,"origin":"ID","platform":1,"deviceTypeId":1,"experiments":{"forceByVariant":null,"forceByExperiment":[{"id":"FAM-366","variant":"B"},{"id":"DRAGON-2308","variant":"B"},{"id":"MIN-13903-2","variant":"B"},{"id":"MIN-14036","variant":"B"},{"id":"UMRAH-B2B","variant":"B"},{"id":"UMRAH-B2C-REGIONAL","variant":"B"},{"id":"UMRAH-B2C","variant":"Z"},{"id":"JGCW-202","variant":"B"},{"id":"JGCW-204","variant":"B"},{"id":"JGCW-264","variant":"B"},{"id":"JGCW-299","variant":"B"},{"id":"JGCW-159","variant":"B"},{"id":"FD-3936","variant":"B"}]},"isRetry":false,"showCMS":false,"storeFrontId":3,"pageTypeId":103,"whiteLabelKey":null,"ipAddress":"110.137.195.241","endpointSearchType":"CitySearch","trackSteps":null},"matrix":null,"matrixGroup":[{"matrixGroup":"NumberOfBedrooms","size":100},{"matrixGroup":"LandmarkIds","size":10},{"matrixGroup":"AllGuestReviewBreakdown","size":100},{"matrixGroup":"BusStationLandmarkIds","size":20},{"matrixGroup":"GroupedBedTypes","size":100},{"matrixGroup":"RoomBenefits","size":100},{"matrixGroup":"AtmosphereIds","size":100},{"matrixGroup":"RoomAmenities","size":100},{"matrixGroup":"AffordableCategory","size":100},{"matrixGroup":"HotelFacilities","size":100},{"matrixGroup":"BeachAccessTypeIds","size":100},{"matrixGroup":"StarRating","size":20},{"matrixGroup":"MetroSubwayStationLandmarkIds","size":20},{"matrixGroup":"CityCenterDistance","size":100},{"matrixGroup":"ProductType","size":100},{"matrixGroup":"ReviewLocationScore","size":3},{"matrixGroup":"LandmarkSubTypeCategoryIds","size":20},{"matrixGroup":"ReviewScore","size":100},{"matrixGroup":"IsStaycation","size":5},{"matrixGroup":"AccommodationType","size":100},{"matrixGroup":"PaymentOptions","size":100},{"matrixGroup":"TrainStationLandmarkIds","size":20},{"matrixGroup":"HotelAreaId","size":100},{"matrixGroup":"HotelChainId","size":10},{"matrixGroup":"RecommendedByDestinationCity","size":10},{"matrixGroup":"Deals","size":100}],"filterRequest":{"idsFilters":[],"rangeFilters":[],"textFilters":[]},"page":{"pageSize":45,"pageNumber":%s,"pageToken":""},"apoRequest":{"apoPageSize":10},"searchHistory":[{"objectId":10470,"searchDate":"2021-12-15","searchType":"PropertySearch","childrenAges":[]},{"objectId":529150,"searchDate":"2021-12-15","searchType":"PropertySearch","childrenAges":[]},{"objectId":4762,"searchDate":"2021-12-16","searchType":"PropertySearch","childrenAges":[]},{"objectId":546169,"searchDate":"2021-12-20","searchType":"PropertySearch","childrenAges":[]},{"objectId":338317,"searchDate":"2021-12-20","searchType":"PropertySearch","childrenAges":[]}],"searchDetailRequest":{"priceHistogramBins":50},"isTrimmedResponseRequested":false,"featuredAgodaHomesRequest":null,"featuredLuxuryHotelsRequest":null,"highlyRatedAgodaHomesRequest":{"numberOfAgodaHomes":30,"minimumReviewScore":7.5,"minimumReviewCount":3,"accommodationTypes":[28,29,30,102,103,106,107,108,109,110,114,115,120,131],"sortVersion":0},"extraAgodaHomesRequest":null,"extraHotels":{"extraHotelIds":[],"enableFiltersForExtraHotels":false},"packaging":null,"flexibleSearchRequest":{"fromDate":"2021-12-20","toDate":"2022-02-19","alternativeDateSize":4}}},"ContentSummaryRequest":{"context":{"rawUserId":"9d229ec9-a7b9-41fd-86dd-415e6797a3ca","memberId":0,"userOrigin":"ID","locale":"en-us","forceExperimentsByIdNew":[{"key":"FAM-366","value":"B"},{"key":"DRAGON-2308","value":"B"},{"key":"MIN-13903-2","value":"B"},{"key":"MIN-14036","value":"B"},{"key":"UMRAH-B2B","value":"B"},{"key":"UMRAH-B2C-REGIONAL","value":"B"},{"key":"UMRAH-B2C","value":"Z"},{"key":"JGCW-202","value":"B"},{"key":"JGCW-204","value":"B"},{"key":"JGCW-264","value":"B"},{"key":"JGCW-299","value":"B"},{"key":"JGCW-159","value":"B"},{"key":"FD-3936","value":"B"}],"apo":false,"searchCriteria":{"cityId":162093},"platform":{"id":1},"storeFrontId":3,"cid":"1844104","occupancy":{"numberOfAdults":2,"numberOfChildren":0,"travelerType":1},"deviceTypeId":1,"whiteLabelKey":"","correlationId":""},"summary":{"highlightedFeaturesOrderPriority":null,"description":false},"reviews":{"commentary":null,"demographics":{"providerIds":null,"filter":{"defaultProviderOnly":true}},"summaries":{"providerIds":null,"apo":true,"limit":1,"travellerType":2},"cumulative":{"providerIds":null},"filters":null},"images":{"page":null,"maxWidth":0,"maxHeight":0,"imageSizes":null,"indexOffset":null},"rooms":{"images":null,"featureLimit":0,"filterCriteria":null,"includeMissing":false,"includeSoldOut":false,"includeDmcRoomId":false,"soldOutRoomCriteria":null,"showRoomSize":true,"showRoomFacilities":true},"nonHotelAccommodation":true,"engagement":true,"highlights":{"maxNumberOfItems":0,"images":{"imageSizes":[{"key":"full","size":{"width":0,"height":0}}]}},"personalizedInformation":false,"localInformation":{"images":null},"features":null,"rateCategories":true,"contentRateCategories":{"escapeRateCategories":{}},"synopsis":true},"PricingSummaryRequest":{"cheapestOnly":true,"context":{"isAllowBookOnRequest":true,"abTests":[{"testId":9021,"abUser":"B"},{"testId":9023,"abUser":"B"},{"testId":9024,"abUser":"B"},{"testId":9025,"abUser":"B"},{"testId":9027,"abUser":"B"},{"testId":9029,"abUser":"B"}],"clientInfo":{"cid":1844104,"languageId":1,"languageUse":1,"origin":"ID","platform":1,"searchId":"","storefront":3,"userId":"9d229ec9-a7b9-41fd-86dd-415e6797a3ca","ipAddress":"110.137.195.241"},"experiment":[{"name":"FAM-366","variant":"B"},{"name":"DRAGON-2308","variant":"B"},{"name":"MIN-13903-2","variant":"B"},{"name":"MIN-14036","variant":"B"},{"name":"UMRAH-B2B","variant":"B"},{"name":"UMRAH-B2C-REGIONAL","variant":"B"},{"name":"UMRAH-B2C","variant":"Z"},{"name":"JGCW-202","variant":"B"},{"name":"JGCW-204","variant":"B"},{"name":"JGCW-264","variant":"B"},{"name":"JGCW-299","variant":"B"},{"name":"JGCW-159","variant":"B"},{"name":"FD-3936","variant":"B"}],"isDebug":false,"sessionInfo":{"isLogin":false,"memberId":0,"sessionId":1},"packaging":null},"isSSR":true,"pricing":{"bookingDate":"2021-12-20T04:19:09.639Z","checkIn":"2022-01-19T17:00:00.000Z","checkout":"2022-01-20T17:00:00.000Z","localCheckInDate":"2022-01-20","localCheckoutDate":"2022-01-21","currency":"IDR","details":{"cheapestPriceOnly":false,"itemBreakdown":false,"priceBreakdown":false},"featureFlag":["ClientDiscount","PriceHistory","VipPlatinum","CouponSellEx","MixAndSave","APSPeek","StackChannelDiscount","AutoApplyPromos","EnableAgencySupplyForPackages","EnableCashback","CreditCardPromotionPeek"],"features":{"crossOutRate":false,"isAPSPeek":false,"isAllOcc":false,"isApsEnabled":false,"isIncludeUsdAndLocalCurrency":false,"isMSE":true,"isRPM2Included":true,"maxSuggestions":0,"newRateModel":false,"overrideOccupancy":false,"filterCheapestRoomEscapesPackage":false,"priusId":0,"synchronous":false,"enableRichContentOffer":true,"showCouponAmountInUserCurrency":false,"disableEscapesPackage":false},"filters":{"cheapestRoomFilters":[],"filterAPO":false,"ratePlans":[1],"secretDealOnly":false,"suppliers":[],"nosOfBedrooms":[]},"includedPriceInfo":false,"occupancy":{"adults":2,"children":0,"childAges":[],"rooms":1,"childrenTypes":[]},"supplierPullMetadata":{"requiredPrecheckAccuracyLevel":0},"mseHotelIds":[],"ppLandingHotelIds":[],"searchedHotelIds":[],"paymentId":-1},"suggestedPrice":"Exclusive"},"PriceStreamMetaLabRequest":{"attributesId":[8,1,18,7,11,2,3]}},"query":"query citySearch($CitySearchRequest: CitySearchRequest!, $ContentSummaryRequest: ContentSummaryRequest!, $PricingSummaryRequest: PricingRequestParameters, $PriceStreamMetaLabRequest: PriceStreamMetaLabRequest) {\\n  citySearch(CitySearchRequest: $CitySearchRequest) {\\n    searchResult {\\n      sortMatrix {\\n        result {\\n          fieldId\\n          sorting {\\n            sortField\\n            sortOrder\\n            sortParams {\\n              id\\n            }\\n          }\\n          display {\\n            name\\n          }\\n          childMatrix {\\n            fieldId\\n            sorting {\\n              sortField\\n              sortOrder\\n              sortParams {\\n                id\\n              }\\n            }\\n            display {\\n              name\\n            }\\n            childMatrix {\\n              fieldId\\n              sorting {\\n                sortField\\n                sortOrder\\n                sortParams {\\n                  id\\n                }\\n              }\\n              display {\\n                name\\n              }\\n            }\\n          }\\n        }\\n      }\\n      searchInfo {\\n        flexibleSearch {\\n          currentDate {\\n            checkIn\\n            price\\n          }\\n          alternativeDates {\\n            checkIn\\n            price\\n          }\\n        }\\n        hasSecretDeal\\n        isComplete\\n        totalFilteredHotels\\n        hasEscapesPackage\\n        searchStatus {\\n          searchCriteria {\\n            checkIn\\n          }\\n          searchStatus\\n        }\\n        objectInfo {\\n          objectName\\n          cityName\\n          cityEnglishName\\n          countryId\\n          countryEnglishName\\n          mapLatitude\\n          mapLongitude\\n          mapZoomLevel\\n          wlPreferredCityName\\n          wlPreferredCountryName\\n          cityId\\n          cityCenterPolygon {\\n            geoPoints {\\n              lon\\n              lat\\n            }\\n            touristAreaCenterPoint {\\n              lon\\n              lat\\n            }\\n          }\\n        }\\n      }\\n      urgencyDetail {\\n        urgencyScore\\n      }\\n      histogram {\\n        bins {\\n          numOfElements\\n          upperBound {\\n            perNightPerRoom\\n            perPax\\n          }\\n        }\\n      }\\n      nhaProbability\\n    }\\n    properties(ContentSummaryRequest: $ContentSummaryRequest, PricingSummaryRequest: $PricingSummaryRequest, PriceStreamMetaLabRequest: $PriceStreamMetaLabRequest) {\\n      propertyId\\n      sponsoredDetail {\\n        sponsoredType\\n        trackingData\\n        isShowSponsoredFlag\\n      }\\n      propertyResultType\\n      content {\\n        informationSummary {\\n          propertyLinks {\\n            propertyPage\\n          }\\n          atmospheres {\\n            id\\n            name\\n          }\\n          localeName\\n          defaultName\\n          displayName\\n          accommodationType\\n          awardYear\\n          hasHostExperience\\n          address {\\n            countryCode\\n            country {\\n              id\\n              name\\n            }\\n            city {\\n              id\\n              name\\n            }\\n            area {\\n              id\\n              name\\n            }\\n          }\\n          propertyType\\n          rating\\n          agodaGuaranteeProgram\\n          remarks {\\n            renovationInfo {\\n              renovationType\\n              year\\n            }\\n          }\\n          spokenLanguages {\\n            id\\n          }\\n          geoInfo {\\n            latitude\\n            longitude\\n          }\\n        }\\n        propertyEngagement {\\n          lastBooking\\n          peopleLooking\\n        }\\n        nonHotelAccommodation {\\n          masterRooms {\\n            noOfBathrooms\\n            noOfBedrooms\\n            noOfBeds\\n            roomSizeSqm\\n            highlightedFacilities\\n          }\\n          hostLevel {\\n            id\\n            name\\n          }\\n          supportedLongStay\\n        }\\n        facilities {\\n          id\\n        }\\n        images {\\n          hotelImages {\\n            id\\n            caption\\n            providerId\\n            urls {\\n              key\\n              value\\n            }\\n          }\\n        }\\n        reviews {\\n          contentReview {\\n            isDefault\\n            providerId\\n            demographics {\\n              groups {\\n                id\\n                grades {\\n                  id\\n                  score\\n                }\\n              }\\n            }\\n            summaries {\\n              recommendationScores {\\n                recommendationScore\\n              }\\n              snippets {\\n                countryId\\n                countryCode\\n                countryName\\n                date\\n                demographicId\\n                demographicName\\n                reviewer\\n                reviewRating\\n                snippet\\n              }\\n            }\\n            cumulative {\\n              reviewCount\\n              score\\n            }\\n          }\\n          cumulative {\\n            reviewCount\\n            score\\n          }\\n        }\\n        familyFeatures {\\n          hasChildrenFreePolicy\\n          isFamilyRoom\\n          hasMoreThanOneBedroom\\n          isInterConnectingRoom\\n          isInfantCottageAvailable\\n          hasKidsPool\\n          hasKidsClub\\n        }\\n        personalizedInformation {\\n          childrenFreePolicy {\\n            fromAge\\n            toAge\\n          }\\n        }\\n        localInformation {\\n          landmarks {\\n            transportation {\\n              landmarkName\\n              distanceInM\\n            }\\n            topLandmark {\\n              landmarkName\\n              distanceInM\\n            }\\n            beach {\\n              landmarkName\\n              distanceInM\\n            }\\n          }\\n          hasAirportTransfer\\n        }\\n        highlight {\\n          cityCenter {\\n            distanceFromCityCenter\\n          }\\n          favoriteFeatures {\\n            features {\\n              id\\n              title\\n              category\\n            }\\n          }\\n          hasNearbyPublicTransportation\\n        }\\n        rateCategories {\\n          escapeRateCategories {\\n            rateCategoryId\\n            localizedRateCategoryName\\n          }\\n        }\\n      }\\n      soldOut {\\n        soldOutPrice {\\n          averagePrice\\n        }\\n      }\\n      pricing {\\n        pulseCampaignMetadata {\\n          promotionTypeId\\n          webCampaignId\\n          campaignTypeId\\n          campaignBadgeText\\n          campaignBadgeDescText\\n        }\\n        isAvailable\\n        isReady\\n        benefits\\n        cheapestRoomOffer {\\n          agodaCash {\\n            showBadge\\n            giftcardGuid\\n            dayToEarn\\n            earnId\\n            percentage\\n            expiryDay\\n          }\\n          cashback {\\n            cashbackGuid\\n            showPostCashbackPrice\\n            percentage\\n            earnId\\n            dayToEarn\\n            expiryDay\\n          }\\n        }\\n        isEasyCancel\\n        isInsiderDeal\\n        isMultiHotelEligible\\n        suggestPriceType {\\n          suggestPrice\\n        }\\n        roomBundle {\\n          bundleId\\n          bundleType\\n          saveAmount {\\n            perNight {\\n              ...Frag41232fa8i3ec8jaa6aj7\\n            }\\n          }\\n        }\\n        pointmax {\\n          channelId\\n          point\\n        }\\n        priceChange {\\n          changePercentage\\n          searchDate\\n        }\\n        payment {\\n          cancellation {\\n            cancellationType\\n            freeCancellationDate\\n          }\\n          payLater {\\n            isEligible\\n          }\\n          payAtHotel {\\n            isEligible\\n          }\\n          noCreditCard {\\n            isEligible\\n          }\\n          taxReceipt {\\n            isEligible\\n          }\\n        }\\n        cheapestStayPackageRatePlans {\\n          stayPackageType\\n          ratePlanId\\n        }\\n        pricingMessages {\\n          location\\n          ids\\n        }\\n        suppliersSummaries {\\n          id\\n          supplierHotelId\\n        }\\n        supplierInfo {\\n          id\\n          name\\n          isAgodaBand\\n        }\\n        offers {\\n          roomOffers {\\n            room {\\n              availableRooms\\n              isPromoEligible\\n              promotions {\\n                typeId\\n                promotionDiscount {\\n                  value\\n                }\\n              }\\n              supplierId\\n              corSummary {\\n                hasCor\\n                corType\\n                isOriginal\\n                hasOwnCOR\\n                isBlacklistedCor\\n              }\\n              localVoucher {\\n                currencyCode\\n                amount\\n              }\\n              pricing {\\n                currency\\n                price {\\n                  perNight {\\n                    exclusive {\\n                      display\\n                      cashbackPrice\\n                      displayAfterCashback\\n                      originalPrice\\n                    }\\n                    inclusive {\\n                      display\\n                      cashbackPrice\\n                      displayAfterCashback\\n                      originalPrice\\n                    }\\n                  }\\n                  perBook {\\n                    exclusive {\\n                      display\\n                      cashbackPrice\\n                      displayAfterCashback\\n                      rebatePrice\\n                      originalPrice\\n                      autoAppliedPromoDiscount\\n                    }\\n                    inclusive {\\n                      display\\n                      cashbackPrice\\n                      displayAfterCashback\\n                      rebatePrice\\n                      originalPrice\\n                      autoAppliedPromoDiscount\\n                    }\\n                  }\\n                  perRoomPerNight {\\n                    exclusive {\\n                      display\\n                      crossedOutPrice\\n                      cashbackPrice\\n                      displayAfterCashback\\n                      rebatePrice\\n                      pseudoCouponPrice\\n                      originalPrice\\n                    }\\n                    inclusive {\\n                      display\\n                      crossedOutPrice\\n                      cashbackPrice\\n                      displayAfterCashback\\n                      rebatePrice\\n                      pseudoCouponPrice\\n                      originalPrice\\n                    }\\n                  }\\n                  totalDiscount\\n                  priceAfterAppliedAgodaCash {\\n                    perBook {\\n                      ...Fragh5a06cch0d744gbief5d\\n                    }\\n                    perRoomPerNight {\\n                      ...Fragh5a06cch0d744gbief5d\\n                    }\\n                  }\\n                }\\n                apsPeek {\\n                  perRoomPerNight {\\n                    ...Frag41232fa8i3ec8jaa6aj7\\n                  }\\n                }\\n                promotionPricePeek {\\n                  display {\\n                    perBook {\\n                      ...Frag41232fa8i3ec8jaa6aj7\\n                    }\\n                    perRoomPerNight {\\n                      ...Frag41232fa8i3ec8jaa6aj7\\n                    }\\n                    perNight {\\n                      ...Frag41232fa8i3ec8jaa6aj7\\n                    }\\n                  }\\n                  discountType\\n                  promotionCodeType\\n                  promotionCode\\n                  promoAppliedOnFinalPrice\\n                  childPromotions {\\n                    campaignId\\n                  }\\n                  campaignName\\n                }\\n                channelDiscountSummary {\\n                  channelDiscountBreakdown {\\n                    display\\n                    discountPercent\\n                    channelId\\n                  }\\n                }\\n              }\\n              uid\\n              payment {\\n                cancellation {\\n                  cancellationType\\n                }\\n              }\\n              discount {\\n                deals\\n                channelDiscount\\n              }\\n              saveUpTo {\\n                perRoomPerNight\\n              }\\n              benefits {\\n                id\\n                targetType\\n              }\\n              channel {\\n                id\\n              }\\n              mseRoomSummaries {\\n                supplierId\\n                subSupplierId\\n                pricingSummaries {\\n                  currency\\n                  channelDiscountSummary {\\n                    channelDiscountBreakdown {\\n                      channelId\\n                      discountPercent\\n                      display\\n                    }\\n                  }\\n                  price {\\n                    perRoomPerNight {\\n                      exclusive {\\n                        display\\n                      }\\n                      inclusive {\\n                        display\\n                      }\\n                    }\\n                  }\\n                }\\n              }\\n              cashback {\\n                cashbackGuid\\n                showPostCashbackPrice\\n                percentage\\n                earnId\\n                dayToEarn\\n                expiryDay\\n              }\\n              agodaCash {\\n                showBadge\\n                giftcardGuid\\n                dayToEarn\\n                expiryDay\\n                percentage\\n              }\\n              corInfo {\\n                corBreakdown {\\n                  taxExPN {\\n                    ...Fragchd2955098bge96gddi8\\n                  }\\n                  taxInPN {\\n                    ...Fragchd2955098bge96gddi8\\n                  }\\n                  taxExPRPN {\\n                    ...Fragchd2955098bge96gddi8\\n                  }\\n                  taxInPRPN {\\n                    ...Fragchd2955098bge96gddi8\\n                  }\\n                }\\n                corInfo {\\n                  corType\\n                }\\n              }\\n              loyaltyDisplay {\\n                items\\n              }\\n              capacity {\\n                extraBedsAvailable\\n              }\\n              pricingMessages {\\n                formatted {\\n                  location\\n                  texts {\\n                    index\\n                    text\\n                  }\\n                }\\n              }\\n              campaign {\\n                selected {\\n                  messages {\\n                    campaignName\\n                    title\\n                    titleWithDiscount\\n                    description\\n                    linkOutText\\n                    url\\n                  }\\n                }\\n              }\\n              isTaiwanCampaignEligible\\n            }\\n          }\\n        }\\n      }\\n      metaLab {\\n        attributes {\\n          attributeId\\n          dataType\\n          value\\n          version\\n        }\\n      }\\n      enrichment {\\n        topSellingPoint {\\n          tspType\\n          value\\n        }\\n        pricingBadges {\\n          badges\\n        }\\n        uniqueSellingPoint {\\n          rank\\n          segment\\n          uspType\\n          uspPropertyType\\n        }\\n        bookingHistory {\\n          bookingCount {\\n            count\\n            timeFrame\\n          }\\n        }\\n        showReviewSnippet\\n        isPopular\\n        roomInformation {\\n          cheapestRoomSizeSqm\\n          facilities {\\n            id\\n            propertyFacilityName\\n            symbol\\n          }\\n        }\\n      }\\n      priceBreakerProperties {\\n        propertyId\\n        content {\\n          informationSummary {\\n            displayName\\n            rating\\n            propertyLinks {\\n              propertyPage\\n            }\\n            address {\\n              area {\\n                name\\n              }\\n              city {\\n                name\\n              }\\n            }\\n          }\\n          highlight {\\n            cityCenter {\\n              distanceFromCityCenter\\n              isInsideCityCenter\\n            }\\n          }\\n          reviews {\\n            contentReview {\\n              summaries {\\n                snippets {\\n                  countryId\\n                  countryCode\\n                  countryName\\n                  date\\n                  demographicId\\n                  demographicName\\n                  reviewer\\n                  reviewRating\\n                  snippet\\n                }\\n              }\\n            }\\n            cumulative {\\n              score\\n              reviewCount\\n            }\\n          }\\n          images {\\n            hotelImages {\\n              id\\n              caption\\n              providerId\\n              urls {\\n                key\\n                value\\n              }\\n            }\\n          }\\n        }\\n        pricing {\\n          isReady\\n          isAvailable\\n          offers {\\n            roomOffers {\\n              room {\\n                uid\\n                pricing {\\n                  currency\\n                  price {\\n                    perRoomPerNight {\\n                      exclusive {\\n                        crossedOutPrice\\n                        display\\n                      }\\n                      inclusive {\\n                        crossedOutPrice\\n                        display\\n                      }\\n                    }\\n                  }\\n                }\\n              }\\n            }\\n          }\\n        }\\n      }\\n    }\\n    searchEnrichment {\\n      suppliersInformation {\\n        supplierId\\n        supplierName\\n        isAgodaBand\\n      }\\n    }\\n    aggregation {\\n      matrixGroupResults {\\n        matrixGroup\\n        matrixItemResults {\\n          id\\n          name\\n          count\\n          filterKey\\n          filterRequestType\\n          extraDataResults {\\n            text\\n            matrixExtraDataType\\n          }\\n        }\\n      }\\n    }\\n  }\\n}\\n\\nfragment Fragh5a06cch0d744gbief5d on DisplayPrice {\\n  exclusive\\n  allInclusive\\n}\\n\\nfragment Frag41232fa8i3ec8jaa6aj7 on DFDisplayPrice {\\n  exclusive\\n  allInclusive\\n}\\n\\nfragment Fragchd2955098bge96gddi8 on DFCorBreakdownItem {\\n  price\\n  id\\n}\\n"}' % (region_id, page)
        while True:
            try:
                response = requests.post('https://www.agoda.com/graphql/search', headers=headers, data=data, timeout=15, proxies=proxies)
                break
            except requests.exceptions.RequestException as e:
                print("connetion timeout")
                continue

        # print(response.text)
        data = json.loads(response.text)

        if region[2] == "area":
            data_loop = data['data']['areaSearch']['properties']

        else:
            data_loop = data['data']['citySearch']['properties']

        #
        if not data_loop:
            print("break")
            break

        for data_json in data_loop:
            total_data = total_data + 1
            total_data_all = total_data_all + 1
            id_hotel = data_json['propertyId']
            print("region : " +region_name)

            params = (
                ('finalPriceView', '1'),
                ('isShowMobileAppPrice', 'false'),
                ('cid', '1844104'),
                ('numberOfBedrooms', ''),
                ('familyMode', 'false'),
                ('adults', '2'),
                ('children', '0'),
                ('rooms', '1'),
                ('maxRooms', '0'),
                ('checkIn', '2021-12-22'),
                ('isCalendarCallout', 'false'),
                ('childAges', ''),
                ('numberOfGuest', '0'),
                ('missingChildAges', 'false'),
                ('travellerType', '1'),
                ('showReviewSubmissionEntry', 'false'),
                ('currencyCode', 'IDR'),
                ('isFreeOccSearch', 'false'),
                ('isCityHaveAsq', 'false'),
                ('tspTypes', '9'),
                ('los', '1'),
                ('searchrequestid', 'dbbfe4e4-b47a-4a52-abf9-b15ec8e18058'),
                ('hotel_id', id_hotel),
                ('all', 'false'),
                ('price_view', '1'),
                ('sessionid', 'tixrr12qtqwuh4s5ngyf1itf'),
                ('pagetypeid', '7'),
            )

            while True:
                try:
                    response = requests.get(
                        'https://www.agoda.com/api/cronos/property/BelowFoldParams/GetSecondaryData', headers=headers,
                        params=params, timeout=10)
                    break
                except requests.exceptions.RequestException as e:
                    print("connetion timeout")
                    continue

            general_data = response.text

            with open("/dataph/one_time_crawling/agoda2/" + crawl_date + "/" + region_name + "/" +  str(id_hotel) +"_hotel_detail.json", 'w', encoding='utf_8_sig') as outfile:
                outfile.write(general_data)


            page_comment = 0
            while True:
                page_comment = page_comment + 1
                data_comment = '{"hotelId":%s,"providerId":332,"demographicId":0,"page":%s,"pageSize":100,"sorting":7,"providerIds":[332],"isReviewPage":false,"isCrawlablePage":true,"filters":{"language":[],"room":[]},"searchKeyword":"","searchFilters":[]}'%(id_hotel,page_comment)
                while True:
                    try:
                        response = requests.post('https://www.agoda.com/api/cronos/property/review/ReviewComments',
                                                 headers=headers, data=data_comment, timeout=10)
                        break
                    except requests.exceptions.RequestException as e:
                        print("connetion timeout")
                        continue


                comment = response.text
                try :
                    data_comment21 = json.loads(response.text)

                    if data_comment21['comments']:
                        with open("/dataph/one_time_crawling/agoda2/" + crawl_date + "/" +   region_name + "/" + str(id_hotel) + "_hotel_comment_" + str(page_comment) +  ".json", 'w', encoding='utf_8_sig') as outfile:
                            outfile.write(comment)
                    else:
                        break
                except:
                    break


                print("region : " + region_name)
                print("data_all : " + str(total_data_all))
                print("data : " + str(total_data))
                print("page : " + str(page))
                print("page_comment : " + str(page_comment))
